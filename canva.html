<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Understanding Anger</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* 1. THE "CREAM & COMIC" THEME */
    body {
      margin: 0;
      padding: 0;
      background-color: #FFF8F0; /* The Cream Background */
      font-family: 'Fredoka', 'Comic Sans MS', sans-serif; /* The Playful Font */
      color: #2D3748;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    #app-container {
      width: 100%;
      max-width: 900px;
      padding: 40px 20px;
    }

    /* 2. CARD STYLES */
    .white-card {
      background: white;
      border-radius: 24px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      text-align: center;
      transition: transform 0.2s;
    }
    .white-card:hover { transform: translateY(-5px); }

    /* 3. BUTTON STYLES */
    .btn {
      padding: 16px 32px;
      border-radius: 12px;
      font-weight: bold;
      font-size: 18px;
      border: none;
      cursor: pointer;
      width: 100%;
      color: white;
      transition: opacity 0.2s;
    }
    .btn:hover { opacity: 0.9; }
    .btn-red { background-color: #E53E3E; }   /* The "Show Problems" Red */
    .btn-green { background-color: #48BB78; } /* The "Show Solutions" Green */
    .btn-back { 
      background: white; 
      border: 2px solid #2D3748; 
      color: #2D3748; 
      width: auto; 
      padding: 10px 20px;
      margin-bottom: 20px;
    }

    /* 4. UTILITIES */
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
    .title { font-size: 36px; font-weight: bold; text-align: center; margin-bottom: 10px; }
    .subtitle { font-size: 18px; text-align: center; color: #4A5568; margin-bottom: 40px; }
    
    @media (max-width: 768px) { .grid-2 { grid-template-columns: 1fr; } }
  </style>
</head>
<body>

  <div id="app-container">
    </div>

  <script>
    const container = document.getElementById('app-container');

    // --- VIEW 1: HOME (The Cream Intro) ---
    function showHome() {
      container.innerHTML = `
        <h1 class="title" style="color: #2D3748;">Understanding Anger üò†</h1>
        <p class="subtitle">Anger is a normal feeling, but it's important to handle it the right way!</p>
        
        <div class="grid-2">
          <div class="white-card">
            <div style="font-size: 60px; margin-bottom: 10px;">üò†</div>
            <h2 style="font-size: 24px; margin-bottom: 10px;">The Anger Volcano</h2>
            <p style="margin-bottom: 20px;">See what happens when anger explodes</p>
            <button onclick="showNegative()" class="btn btn-red">Show Me The Problems</button>
          </div>

          <div class="white-card">
            <div style="font-size: 60px; margin-bottom: 10px;">üòå</div>
            <h2 style="font-size: 24px; margin-bottom: 10px;">Cool Down Tools</h2>
            <p style="margin-bottom: 20px;">Learn smart ways to calm down</p>
            <button onclick="showSolutions()" class="btn btn-green">Show Me Solutions</button>
          </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
             <a href="index.html" style="color: #A0AEC0; text-decoration: none; font-weight: bold;">‚Üê Back to Main Menu</a>
        </div>
      `;
    }

    // --- VIEW 2: NEGATIVE (The Red Title View) ---
    function showNegative() {
      container.innerHTML = `
        <button onclick="showHome()" class="btn btn-back">‚Üê Back to Home</button>
        <h1 class="title" style="color: #E53E3E;">What Happens When We Don't Control Anger?</h1>
        
        <div class="grid-2" style="margin-top: 30px;">
          <div class="white-card" style="text-align: left;">
            <div style="font-size: 40px;">üß†</div>
            <h3>Your Brain Gets Stuck</h3>
            <p>The thinking part of your brain shuts down. You can't solve problems.</p>
          </div>
          <div class="white-card" style="text-align: left;">
            <div style="font-size: 40px;">üíî</div>
            <h3>Friendships Get Hurt</h3>
            <p>Saying mean things can push friends away.</p>
          </div>
          <div class="white-card" style="text-align: left;">
            <div style="font-size: 40px;">üí¢</div>
            <h3>Your Body Feels Bad</h3>
            <p>Your heart beats fast and muscles get tight.</p>
          </div>
          <div class="white-card" style="text-align: left;">
            <div style="font-size: 40px;">üò¢</div>
            <h3>You Feel Worse Later</h3>
            <p>After an explosion, you often feel guilty or sad.</p>
          </div>
        </div>

        <div class="white-card" style="margin-top: 30px; background-color: #F0FFF4; border: 2px solid #C6F6D5;">
           <h3 style="margin-bottom: 15px;">Good news! There are better ways to handle anger! üåü</h3>
           <button onclick="showSolutions()" class="btn btn-green" style="width: auto;">Show Me Solutions</button>
        </div>
      `;
    }

    // --- VIEW 3: SOLUTIONS (The Green Title View) ---
    function showSolutions() {
      container.innerHTML = `
        <button onclick="showHome()" class="btn btn-back">‚Üê Back to Home</button>
        <h1 class="title" style="color: #48BB78;">Science-Backed Ways to Cool Down</h1>

        <div style="display: flex; flex-direction: column; gap: 20px; margin-top: 30px;">
          
          <div class="white-card" style="text-align: left;">
            <div style="font-size: 40px;">ü´Å</div>
            <h3>Deep Breathing (Proven by Science!)</h3>
            <p style="margin-bottom: 20px;">Slow breathing activates your "calm down" nervous system.</p>
            <div style="text-align: center;">
               <div id="breath-circle" style="width: 100px; height: 100px; background: linear-gradient(135deg, #48BB78, #E53E3E); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin: 0 auto 20px auto; transition: transform 4s;">Breathe</div>
               <button onclick="toggleBreath()" class="btn btn-green" style="width: auto;">Start Breathing Exercise</button>
            </div>
          </div>

          <div class="white-card" style="text-align: left;">
            <div style="font-size: 40px;">üèÉ</div>
            <h3>Move Your Body</h3>
            <p>Shake off the extra energy!</p>
            <div style="text-align: center;">
               <div id="move-timer" style="font-size: 40px; font-weight: bold; color: #ED8936; height: 50px;"></div>
               <button onclick="startMove()" class="btn btn-green" style="width: auto;">Start 10s Jump Timer</button>
            </div>
          </div>

          <div class="white-card" style="text-align: left;">
             <div style="font-size: 40px;">üßä</div>
             <h3>The Ice Trick</h3>
             <p>Cool your hands to calm your mind.</p>
             <div style="text-align: center;">
                <div id="ice-cube" onclick="clickIce()" style="font-size: 80px; cursor: pointer; transition: transform 0.5s;">üßä</div>
                <p id="ice-msg" style="color: #3182CE; font-weight: bold; height: 20px;"></p>
             </div>
          </div>

           <div class="white-card" style="text-align: left;">
             <div style="font-size: 40px;">üé®</div>
             <h3>Draw It Out</h3>
             <canvas id="draw-canvas" width="300" height="200" style="border: 2px dashed #CBD5E0; border-radius: 10px; cursor: crosshair; width: 100%; touch-action: none;"></canvas>
             <div style="text-align: center; margin-top: 10px;">
                <button onclick="clearDraw()" style="background: #E53E3E; color: white; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer;">Clear</button>
             </div>
          </div>

        </div>
      `;
      setupCanvas();
    }

    // --- INTERACTION LOGIC ---
    let breathInterval;
    function toggleBreath() {
       const circle = document.getElementById('breath-circle');
       if(circle.style.transform === "scale(1.5)") {
          circle.style.transform = "scale(1)";
          circle.innerText = "Breathe";
          clearInterval(breathInterval);
       } else {
          circle.innerText = "In...";
          circle.style.transform = "scale(1.5)";
          breathInterval = setInterval(() => {
             if(circle.innerText === "In...") {
                circle.innerText = "Out...";
                circle.style.transform = "scale(1)";
             } else {
                circle.innerText = "In...";
                circle.style.transform = "scale(1.5)";
             }
          }, 4000);
       }
    }

    function startMove() {
       let t = 10;
       const timer = document.getElementById('move-timer');
       timer.innerText = t;
       const i = setInterval(() => {
          t--;
          timer.innerText = t;
          if(t<=0) { clearInterval(i); timer.innerText = "Great Job! üéâ"; }
       }, 1000);
    }

    function clickIce() {
       const ice = document.getElementById('ice-cube');
       const msg = document.getElementById('ice-msg');
       ice.style.transform = "scale(0.8) rotate(20deg)";
       msg.innerText = "Brrr! Feeling calmer...";
       setTimeout(() => {
          ice.style.transform = "scale(1)";
          msg.innerText = "";
       }, 2000);
    }

    function setupCanvas() {
       setTimeout(() => {
         const cvs = document.getElementById('draw-canvas');
         if(!cvs) return;
         const ctx = cvs.getContext('2d');
         ctx.lineWidth = 4; ctx.strokeStyle = "#4299E1"; ctx.lineCap = "round";
         let drawing = false;
         
         // Resize to fit width
         const rect = cvs.getBoundingClientRect();
         cvs.width = rect.width; cvs.height = 200;

         function getPos(e) {
            const r = cvs.getBoundingClientRect();
            const x = (e.touches ? e.touches[0].clientX : e.clientX) - r.left;
            const y = (e.touches ? e.touches[0].clientY : e.clientY) - r.top;
            return {x, y};
         }
         function start(e) { drawing=true; const p=getPos(e); ctx.beginPath(); ctx.moveTo(p.x, p.y); }
         function move(e) { if(!drawing) return; e.preventDefault(); const p=getPos(e); ctx.lineTo(p.x, p.y); ctx.stroke(); }
         function end() { drawing=false; }

         cvs.addEventListener('mousedown', start); cvs.addEventListener('mousemove', move); cvs.addEventListener('mouseup', end);
         cvs.addEventListener('touchstart', start, {passive:false}); cvs.addEventListener('touchmove', move, {passive:false}); cvs.addEventListener('touchend', end);
       }, 100);
    }
    function clearDraw() {
       const cvs = document.getElementById('draw-canvas');
       const ctx = cvs.getContext('2d');
       ctx.clearRect(0,0,cvs.width,cvs.height);
    }

    // Initialize
    showHome();
  </script>
</body>
</html>

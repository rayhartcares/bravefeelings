<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Understanding Anger</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* --- THEME --- */
    body {
      margin: 0; padding: 0; background-color: #FFF8F0;
      font-family: 'Fredoka', cursive, sans-serif; color: #2D3748;
      display: flex; justify-content: center; min-height: 100vh; overflow-x: hidden;
    }
    #app-container { width: 100%; max-width: 800px; padding: 40px 20px; position: relative; }

    /* --- CARDS --- */
    .white-card {
      background: white; border-radius: 24px; padding: 30px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.05); text-align: center;
      margin-bottom: 24px; border-bottom: 6px solid #EDF2F7;
      transition: all 0.3s ease; position: relative; overflow: hidden;
    }
    .white-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); }
    
    /* --- IMAGES & ICONS --- */
    /* This makes the new 3D images look great */
    .sticker-img {
      width: 120px; height: 120px; object-fit: contain;
      margin-bottom: 15px; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1));
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .white-card:hover .sticker-img { transform: scale(1.1); }
    
    /* Animations */
    @keyframes float { 0%, 100% { transform: translateY(0) scale(1.1); } 50% { transform: translateY(-10px) scale(1.1); } }
    .animate-float { animation: float 3s infinite ease-in-out; }

    /* --- TYPOGRAPHY & BUTTONS --- */
    .title { font-size: 36px; font-weight: bold; text-align: center; margin-bottom: 10px; }
    .green-title { color: #48BB78; }
    .red-title { color: #E53E3E; }
    
    .card-title { font-size: 22px; font-weight: bold; margin-bottom: 8px; color: #2D3748; }
    .card-desc { font-size: 16px; color: #718096; line-height: 1.6; margin-bottom: 20px; }
    
    .btn { padding: 14px 28px; border-radius: 16px; font-weight: bold; font-size: 18px; border: none; cursor: pointer; color: white; transition: all 0.2s; width: 100%; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    .btn:hover { transform: scale(1.05); }
    .btn-red { background: linear-gradient(135deg, #E53E3E, #C53030); }
    .btn-green { background: linear-gradient(135deg, #48BB78, #38A169); }
    .btn-back { background: white; border: 2px solid #CBD5E0; color: #4A5568; padding: 8px 16px; border-radius: 12px; font-weight: bold; cursor: pointer; margin-bottom: 20px; font-family: inherit; }

    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
    @media (max-width: 600px) { .grid-2 { grid-template-columns: 1fr; } }
    
    /* Particles */
    .particle { position: absolute; width: 15px; height: 15px; border-radius: 50%; pointer-events: none; z-index: 99; }
    @keyframes particle-explode { 0% { transform: translate(0, 0) scale(1); opacity: 1; } 100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; } }

  </style>
</head>
<body>

  <div id="app-container">
    </div>

  <script>
    const container = document.getElementById('app-container');
    
    // --- PARTICLE SYSTEM ---
    function createExplosion(x, y, color) {
      for (let i = 0; i < 30; i++) {
        const p = document.createElement('div');
        p.classList.add('particle');
        p.style.backgroundColor = color;
        p.style.left = x + 'px'; p.style.top = y + 'px';
        const tx = (Math.random() - 0.5) * 400; const ty = (Math.random() - 0.5) * 400;
        p.style.setProperty('--tx', `${tx}px`); p.style.setProperty('--ty', `${ty}px`);
        p.style.animation = `particle-explode ${0.5 + Math.random()}s ease-out forwards`;
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 1500);
      }
    }

    // --- VIEW 1: HOME ---
    function showHome() {
      container.innerHTML = `
        <h1 class="title">Understanding Anger</h1>
        <p style="text-align: center; color: #718096; margin-bottom: 40px;">Anger is big energy. Let's learn to control it!</p>
        
        <div class="grid-2">
          <div class="white-card">
            <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Travel%20and%20places/Volcano.png" class="sticker-img" alt="Volcano">
            <div class="card-title">The Anger Volcano</div>
            <p class="card-desc">Feeling ready to explode?</p>
            <button onclick="showNegative()" class="btn btn-red">See the Explosion</button>
          </div>
          <div class="white-card">
            <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Smilies/Relieved%20Face.png" class="sticker-img" alt="Relieved">
            <div class="card-title">Cool Down Tools</div>
            <p class="card-desc">Smart ways to chill out.</p>
            <button onclick="showSolutions()" class="btn btn-green">Show Solutions</button>
          </div>
        </div>
        <div style="text-align: center; margin-top: 30px;">
           <a href="index.html" style="color: #A0AEC0; text-decoration: none; font-weight: bold;">‚Üê Back to Main Menu</a>
        </div>
      `;
    }

    // --- VIEW 2: NEGATIVE ---
    function showNegative() {
      container.innerHTML = `
        <button onclick="showHome()" class="btn-back">‚Üê Back</button>
        <h1 class="title red-title">When Anger Explodes! üí•</h1>
        
        <div class="grid-2" style="margin-top: 30px;">
          <div class="white-card">
            <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Brain.png" class="sticker-img" alt="Brain">
            <div class="card-title">Brain Freeze</div>
            <p class="card-desc">Your thinking brain shuts off.</p>
          </div>
          <div class="white-card">
            <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Smilies/Broken%20Heart.png" class="sticker-img" alt="Heart">
            <div class="card-title">Feelings Hurt</div>
            <p class="card-desc">Mean words can hurt friends.</p>
          </div>
          <div class="white-card">
            <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Travel%20and%20places/Fire.png" class="sticker-img" alt="Fire">
            <div class="card-title">Body Overheat</div>
            <p class="card-desc">Heart pounds and muscles tighten.</p>
          </div>
          <div class="white-card">
            <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Smilies/Crying%20Face.png" class="sticker-img" alt="Sad">
            <div class="card-title">The Aftermath</div>
            <p class="card-desc">Explosions usually end in sadness.</p>
          </div>
        </div>
        
        <div class="white-card" style="margin-top: 30px; border-bottom-color: #48BB78;">
           <p style="font-weight: bold; font-size: 20px; color: #2F855A;">üí° You can control the volcano!</p>
           <button onclick="showSolutions()" class="btn btn-green" style="width: auto;">Learn Cool Down Powers</button>
        </div>
      `;
    }

    // --- VIEW 3: SOLUTIONS (UPDATED ILLUSTRATIONS) ---
    function showSolutions() {
      container.innerHTML = `
        <button onclick="showHome()" class="btn-back">‚Üê Back</button>
        <h1 class="title green-title">Your Cool Down Powers üõ°Ô∏è</h1>

        <div style="display: flex; flex-direction: column; gap: 20px; margin-top: 30px;">
          
          <div class="white-card" style="text-align: left; border-bottom-color: #48BB78;">
            <div style="font-size: 60px; margin-bottom: 15px;">ü´Å</div>
            <div class="card-title green-title">Super Slow Breathing</div>
            <p class="card-desc">Activates your body's built-in "calm down" switch.</p>
            <div style="text-align: center;">
               <div id="breath-circle" style="width: 120px; height: 120px; background: linear-gradient(135deg, #48BB78, #81E6D9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 20px; margin: 0 auto 20px auto; transition: transform 4s, background 4s; box-shadow: 0 10px 20px rgba(72, 187, 120, 0.3);">Breathe</div>
               <button onclick="toggleBreath()" class="btn btn-green" style="width: auto;">Activate Power</button>
            </div>
          </div>

          <div class="white-card" style="text-align: left; border-bottom-color: #ED8936;">
            <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Running.png" class="sticker-img animate-float" alt="Run">
            <div class="card-title" style="color: #ED8936;">Energy Release</div>
            <p class="card-desc">Shake off the angry energy! Jump, run, or dance.</p>
            <div style="text-align: center;">
               <div id="move-timer" style="font-size: 50px; font-weight: bold; color: #ED8936; height: 60px;"></div>
               <button onclick="startMove()" class="btn" style="background: linear-gradient(135deg, #ED8936, #C05621); width: auto;">Start 10s Burst</button>
            </div>
          </div>

          <div class="white-card" style="text-align: left; border-bottom-color: #4299E1;">
             <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Food/Ice.png" id="ice-img" class="sticker-img animate-float" alt="Ice">
             <div class="card-title" style="color: #4299E1;">The Ice Shock</div>
             <p class="card-desc">Cold instantly resets your nervous system. A real "brain freeze" for anger!</p>
             <div style="text-align: center;">
                <p id="ice-msg" style="color: #3182CE; font-weight: bold; height: 30px; font-size: 18px;"></p>
                <button onclick="clickIce()" class="btn" style="background: linear-gradient(135deg, #4299E1, #2B6CB0); width: auto;">Apply Ice</button>
             </div>
          </div>

          <div class="white-card" style="text-align: left; border-bottom-color: #ECC94B;">
             <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Megaphone.png" class="sticker-img animate-float" alt="Speak">
             <div class="card-title" style="color: #D69E2E;">Speak Your Power</div>
             <p class="card-desc">Don't explode, express! Use your words instead of your fists.</p>
             <div style="background-color: #FFFFF0; padding: 20px; border-radius: 16px; border: 2px dashed #ECC94B; text-align: center;">
                <p style="font-weight: bold; color: #D69E2E; font-size: 18px;">Say: "I feel ANGRY when..."</p>
             </div>
          </div>

          <div class="white-card" style="text-align: left; border-bottom-color: #A0AEC0;">
             <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Travel%20and%20places/Hourglass%20Not%20Done.png" class="sticker-img animate-float" alt="Time">
             <div class="card-title" style="color: #4A5568;">Tactical Retreat</div>
             <p class="card-desc">Walk away to recharge your shields. Come back when you are in control.</p>
             <div style="text-align: center;">
                <div id="timeout-timer" style="font-size: 40px; font-weight: bold; color: #4A5568; border: 5px solid #CBD5E0; width: 120px; height: 120px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; background: #F7FAFC;">5:00</div>
                <button onclick="startTimeOut()" class="btn" style="background: linear-gradient(135deg, #A0AEC0, #718096); width: auto;">Start Timer</button>
             </div>
          </div>

        </div>
      `;
    }

    // --- LOGIC ---
    let breathInterval;
    function toggleBreath() {
       const circle = document.getElementById('breath-circle');
       if(circle.style.transform.includes("scale(1.5)")) {
          circle.style.transform = "scale(1)"; circle.innerText = "Breathe"; circle.style.background = "linear-gradient(135deg, #48BB78, #81E6D9)"; clearInterval(breathInterval);
       } else {
          circle.innerText = "In..."; circle.style.transform = "scale(1.5)"; circle.style.background = "linear-gradient(135deg, #48BB78, #E53E3E)";
          breathInterval = setInterval(() => {
             if(circle.innerText === "In...") { circle.innerText = "Out..."; circle.style.transform = "scale(1)"; circle.style.background = "linear-gradient(135deg, #48BB78, #81E6D9)"; } 
             else { circle.innerText = "In..."; circle.style.transform = "scale(1.5)"; circle.style.background = "linear-gradient(135deg, #48BB78, #E53E3E)"; }
          }, 4000);
       }
    }

    function startMove() {
       let t = 10; const timer = document.getElementById('move-timer'); timer.innerText = t;
       const i = setInterval(() => { t--; timer.innerText = t; if(t<=0) { clearInterval(i); timer.innerText = "Great Job! üéâ"; } }, 1000);
    }

    function clickIce() {
       const ice = document.getElementById('ice-img'); const msg = document.getElementById('ice-msg');
       ice.style.transform = "scale(0.8) rotate(10deg)"; 
       msg.innerText = "ü•∂ Brrr! Dive reflex activated!";
       createExplosion(ice.getBoundingClientRect().left + 60, ice.getBoundingClientRect().top + 60, '#4299E1');
       setTimeout(() => { ice.style.transform = "scale(1.1) rotate(0deg)"; msg.innerText = ""; }, 2000);
    }

    function startTimeOut() {
        let t = 300; const timer = document.getElementById('timeout-timer');
        const i = setInterval(() => {
            t--; const m = Math.floor(t / 60); const s = t % 60;
            timer.innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
            if(t<=0) { clearInterval(i); timer.innerText = "Done!"; timer.style.borderColor = "#48BB78"; timer.style.color = "#48BB78"; }
        }, 1000);
    }

    // Initialize
    showHome();
  </script>
</body>
</html>

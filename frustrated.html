<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Understanding Frustration</title>

  <!-- Optional (looks nicer). If offline, the fallback font still works. -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #FFF8F0;
      --ink: #2D3748;
      --muted: #718096;
      --card: #ffffff;

      --orange1:#ED8936; --orange2:#DD6B20;
      --green1:#48BB78;  --green2:#38A169;
      --blue1:#4299E1;   --blue2:#3182CE;
      --purple1:#9F7AEA; --purple2:#805AD5;

      /* Makes the “illustrations” big and responsive */
      --sticker-size: clamp(150px, 30vw, 210px);
    }

    body{
      margin:0; padding:0;
      background:var(--bg);
      font-family:'Fredoka', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      display:flex;
      justify-content:center;
      min-height:100vh;
      overflow-x:hidden;
    }

    #app-container{
      width:100%;
      max-width:900px;
      padding:44px 18px;
      position:relative;
    }

    .title{
      font-size: clamp(30px, 4vw, 40px);
      font-weight: 600;
      text-align:center;
      margin: 0 0 10px;
      letter-spacing: .2px;
    }
    .orange-title{ color: var(--orange1); }
    .green-title{ color: var(--green1); }

    .sub{
      text-align:center;
      color: var(--muted);
      margin: 0 0 34px;
      font-size: 16px;
      line-height: 1.35;
    }

    .grid-2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
    }
    @media (max-width: 680px){
      .grid-2{ grid-template-columns: 1fr; }
      #app-container{ padding: 34px 14px; }
    }

    .white-card{
      background:var(--card);
      border-radius: 26px;
      padding: 28px 22px;
      box-shadow: 0 10px 24px rgba(0,0,0,0.06);
      text-align:center;
      border-bottom: 7px solid #EDF2F7;
      transition: transform .18s ease;
      position: relative;
      overflow: visible;
    }
    .white-card:hover{ transform: translateY(-4px); }

    .card-title{
      font-size: 22px;
      font-weight: 600;
      margin: 8px 0 6px;
    }
    .card-desc{
      font-size: 16px;
      color: var(--muted);
      margin: 0;
      line-height: 1.45;
    }

    .btn{
      padding: 14px 20px;
      border-radius: 16px;
      font-weight: 600;
      font-size: 18px;
      border: none;
      cursor: pointer;
      color: #fff;
      transition: transform .15s ease, filter .15s ease;
      width: 100%;
      margin-top: 16px;
      box-shadow: 0 6px 10px rgba(0,0,0,0.10);
    }
    .btn:hover{ transform: scale(1.02); filter: brightness(1.06); }

    .btn-orange{ background: linear-gradient(135deg, var(--orange1), var(--orange2)); }
    .btn-green { background: linear-gradient(135deg, var(--green1),  var(--green2)); }
    .btn-blue  { background: linear-gradient(135deg, var(--blue1),   var(--blue2)); }
    .btn-purple{ background: linear-gradient(135deg, var(--purple1), var(--purple2)); }

    .btn-back{
      background:#fff;
      border: 2px solid #CBD5E0;
      color:#4A5568;
      padding: 10px 14px;
      border-radius: 14px;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 18px;
    }

    /* ---------- Sticker system (big, clean, animated) ---------- */
    .sticker-wrap{
      display:flex;
      justify-content:center;
      align-items:center;
      margin: 2px 0 12px;
      filter: drop-shadow(0 7px 7px rgba(0,0,0,0.10));
    }
    .sticker-svg{
      width: var(--sticker-size);
      height: var(--sticker-size);
      display:block;
    }
    .hidden{ display:none !important; }

    /* Shared transform origin helper */
    .tb { transform-box: fill-box; transform-origin: center; }

    /* --- Animations: exaggerated & happy --- */
    @keyframes floaty{
      0%,100%{ transform: translateY(0) scale(1); }
      50%{ transform: translateY(-12px) scale(1.04); }
    }
    @keyframes wiggle{
      0%{ transform: rotate(0deg) translateY(0); }
      15%{ transform: rotate(-8deg) translateY(-2px); }
      35%{ transform: rotate(10deg) translateY(1px); }
      55%{ transform: rotate(-10deg) translateY(-1px); }
      75%{ transform: rotate(6deg) translateY(1px); }
      100%{ transform: rotate(0deg) translateY(0); }
    }
    @keyframes bop{
      0%,100%{ transform: scale(1); }
      40%{ transform: scale(1.08); }
      60%{ transform: scale(0.98); }
    }
    @keyframes angryShake{
      0%{ transform: translate(0,0) rotate(0deg); }
      20%{ transform: translate(-4px,2px) rotate(-4deg); }
      40%{ transform: translate(5px,-2px) rotate(4deg); }
      60%{ transform: translate(-5px,-1px) rotate(-5deg); }
      80%{ transform: translate(4px,2px) rotate(5deg); }
      100%{ transform: translate(0,0) rotate(0deg); }
    }

    /* Square-peg “try-fit” animation */
    @keyframes pegTryFit{
      0%   { transform: translate(-52px, 0px) rotate(-10deg) scale(1); }
      18%  { transform: translate(-10px, 0px)  rotate(7deg)  scale(1.03); }
      28%  { transform: translate(-2px, 0px)   rotate(-12deg) scale(1.06); } /* bump */
      38%  { transform: translate(-9px, -2px)  rotate(10deg)  scale(1.05); }  /* wobble */
      52%  { transform: translate(6px, 10px)   rotate(0deg)   scale(0.98); }  /* drop */
      62%  { transform: translate(6px, 7px)    rotate(0deg)   scale(1.03); }  /* bounce */
      78%  { transform: translate(6px, 10px)   rotate(0deg)   scale(1); }
      100% { transform: translate(6px, 10px)   rotate(0deg)   scale(1); }
    }
    @keyframes armFlailL{
      0%,100% { transform: rotate(-10deg); }
      20%     { transform: rotate(-44deg); }
      40%     { transform: rotate(26deg); }
      60%     { transform: rotate(-38deg); }
      80%     { transform: rotate(12deg); }
    }
    @keyframes armFlailR{
      0%,100% { transform: rotate(10deg); }
      20%     { transform: rotate(46deg); }
      40%     { transform: rotate(-22deg); }
      60%     { transform: rotate(36deg); }
      80%     { transform: rotate(-12deg); }
    }
    @keyframes popSpark{
      0%, 50%  { opacity: 0; transform: scale(0.4); }
      56%      { opacity: 1; transform: scale(1.25); }
      66%      { opacity: 0.95; transform: scale(1); }
      100%     { opacity: 0; transform: scale(0.7); }
    }

    /* Apply sticker-specific animations */
    .st-peg .peg     { animation: pegTryFit 2.2s infinite ease-in-out; }
    .st-peg .armL    { animation: armFlailL 2.2s infinite ease-in-out; }
    .st-peg .armR    { animation: armFlailR 2.2s infinite ease-in-out; }
    .st-peg .spark   { animation: popSpark  2.2s infinite ease-in-out; }

    .st-tools .buddy { animation: floaty 2.6s infinite ease-in-out; }
    .st-tools .bulb  { animation: bop 1.4s infinite ease-in-out; }

    .st-giveup .buddy{ animation: floaty 3s infinite ease-in-out; }
    .st-destroy .buddy{ animation: angryShake 0.65s infinite linear; }
    .st-mean .bubble { animation: wiggle 1.2s infinite ease-in-out; }
    .st-whine .tear  { animation: floaty 1.8s infinite ease-in-out; }

    .st-fog .cloud   { animation: floaty 2.4s infinite ease-in-out; }
    .st-time .glass  { animation: wiggle 1.4s infinite ease-in-out; }

    .st-help .hand   { animation: floaty 2.2s infinite ease-in-out; }
    .st-battery .cap { animation: bop 1.4s infinite ease-in-out; }

    /* “Shake It Off” card extra shaking (triggered by JS) */
    .shakingCard{ animation: angryShake 0.35s infinite linear; }

    /* Small “bubble” */
    .practice-bubble{
      background:#EBF8FF;
      color:#2B6CB0;
      padding:14px;
      border-radius: 16px;
      text-align:center;
      display:none;
      margin-top: 10px;
      font-weight: 600;
    }

    /* Back to menu link */
    .menu-link{
      color:#A0AEC0;
      text-decoration:none;
      font-weight:600;
    }
  </style>
</head>

<body>
  <div id="app-container"></div>

  <script>
    const container = document.getElementById("app-container");

    function render(html){
      container.innerHTML = html;
    }

    /* =========================
       BIG, MOVING “KID STICKERS”
       ========================= */

    function stickerSquarePeg(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-peg" viewBox="0 0 220 220" aria-label="Square peg trying to fit a square hole">
          <defs>
            <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <!-- friendly background blob -->
          <path d="M40,85 C28,40 75,14 113,26 C150,38 192,20 196,68
                   C200,115 202,165 158,190 C114,214 60,206 40,170
                   C25,138 52,125 40,85 Z"
                fill="#FFE8D2"/>

          <!-- the board + square hole -->
          <g filter="url(#softShadow)">
            <rect x="122" y="92" width="74" height="74" rx="18" fill="#FFFFFF"/>
            <rect x="138" y="108" width="42" height="42" rx="10"
                  fill="none" stroke="#ED8936" stroke-width="8"/>
            <rect x="144" y="114" width="30" height="30" rx="8" fill="#F7FAFC"/>
          </g>

          <!-- sparkles when it fits -->
          <g class="spark tb">
            <path d="M188 80 l7 12 l-14 -5 l14 -5 l-7 12z" fill="#FFD166"/>
            <circle cx="199" cy="108" r="4" fill="#FFD166"/>
            <circle cx="182" cy="178" r="4" fill="#FFD166"/>
          </g>

          <!-- peg group -->
          <g class="peg tb">
            <!-- arms -->
            <g class="armL tb">
              <path d="M74 130 C56 122, 53 98, 66 92" fill="none"
                    stroke="#2D3748" stroke-width="7" stroke-linecap="round"/>
              <circle cx="66" cy="92" r="6" fill="#2D3748"/>
            </g>
            <g class="armR tb">
              <path d="M120 128 C140 122, 142 98, 128 90" fill="none"
                    stroke="#2D3748" stroke-width="7" stroke-linecap="round"/>
              <circle cx="128" cy="90" r="6" fill="#2D3748"/>
            </g>

            <!-- square peg body -->
            <rect x="74" y="110" width="54" height="54" rx="15" fill="#48BB78" filter="url(#softShadow)"/>
            <rect x="80" y="116" width="42" height="42" rx="13" fill="#68D391" opacity="0.85"/>

            <!-- face -->
            <circle cx="92" cy="136" r="5.6" fill="#1A202C"/>
            <circle cx="110" cy="136" r="5.6" fill="#1A202C"/>
            <path d="M94 150 Q101 158 108 150" fill="none" stroke="#1A202C"
                  stroke-width="5" stroke-linecap="round"/>

            <!-- sweat drop -->
            <path d="M124 122 C131 131, 131 140, 124 144 C117 140, 117 131, 124 122 Z"
                  fill="#63B3ED" opacity="0.9"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerToolsBuddy(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-tools" viewBox="0 0 220 220" aria-label="Helpful tools buddy">
          <defs>
            <filter id="softShadow2" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M42,88 C30,50 70,18 110,24 C150,30 190,30 195,70
                   C200,110 205,160 162,188 C118,215 60,202 40,170
                   C22,138 55,125 42,88 Z"
                fill="#E6FFFA"/>

          <!-- lightbulb -->
          <g class="bulb tb" filter="url(#softShadow2)">
            <circle cx="170" cy="70" r="18" fill="#FFD166"/>
            <rect x="163" y="86" width="14" height="10" rx="4" fill="#718096"/>
            <path d="M158 66 Q170 50 182 66" fill="none" stroke="#FFD166" stroke-width="6" stroke-linecap="round"/>
          </g>

          <!-- buddy square -->
          <g class="buddy tb" filter="url(#softShadow2)">
            <rect x="68" y="90" width="84" height="84" rx="26" fill="#4299E1"/>
            <rect x="78" y="100" width="64" height="64" rx="22" fill="#63B3ED" opacity="0.85"/>

            <!-- face -->
            <circle cx="95" cy="132" r="6" fill="#1A202C"/>
            <circle cx="125" cy="132" r="6" fill="#1A202C"/>
            <path d="M98 148 Q110 160 122 148" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>

            <!-- tiny wrench -->
            <path d="M150 118
                     c6 -6 16 -4 18 4
                     c-6 4 -10 8 -14 14
                     c-8 0 -12 -8 -4 -18z"
                  fill="#2D3748" opacity="0.9"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerGiveUp(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-giveup" viewBox="0 0 220 220" aria-label="Giving up buddy">
          <defs>
            <filter id="softShadow3" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M45,78 C32,40 78,18 112,26 C146,34 190,32 194,70
                   C198,108 198,162 160,190 C122,218 62,204 44,172
                   C28,144 58,120 45,78 Z"
                fill="#FFF5F5"/>

          <g class="buddy tb" filter="url(#softShadow3)">
            <rect x="68" y="90" width="84" height="84" rx="26" fill="#A0AEC0"/>
            <rect x="78" y="100" width="64" height="64" rx="22" fill="#CBD5E0"/>

            <!-- droopy eyes -->
            <path d="M92 132 Q98 126 104 132" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>
            <path d="M118 132 Q124 126 130 132" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>

            <!-- flat mouth -->
            <path d="M98 150 L122 150" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>

            <!-- tiny flag -->
            <path d="M160 116 L160 170" stroke="#718096" stroke-width="7" stroke-linecap="round"/>
            <path d="M160 118 Q188 124 160 138" fill="#FEB2B2" opacity="0.95"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerDestroy(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-destroy" viewBox="0 0 220 220" aria-label="Destroying work buddy">
          <defs>
            <filter id="softShadow4" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M40,90 C28,52 70,18 112,26 C154,34 195,34 198,74
                   C201,114 200,162 158,190 C116,218 60,205 40,175
                   C25,146 53,126 40,90 Z"
                fill="#FFF8E1"/>

          <g class="buddy tb" filter="url(#softShadow4)">
            <rect x="68" y="90" width="84" height="84" rx="26" fill="#ED8936"/>
            <rect x="78" y="100" width="64" height="64" rx="22" fill="#F6AD55"/>

            <!-- angry eyebrows -->
            <path d="M88 128 L104 120" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>
            <path d="M132 128 L116 120" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>

            <circle cx="95" cy="134" r="6" fill="#1A202C"/>
            <circle cx="125" cy="134" r="6" fill="#1A202C"/>
            <path d="M98 152 Q110 144 122 152" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>

            <!-- crumpled paper -->
            <path d="M168 140
                     c-6 -10 4 -22 16 -20
                     c10 2 14 12 9 20
                     c-4 8 -17 12 -25 0z"
                  fill="#F7FAFC" opacity="0.95"/>
            <path d="M162 138 L178 126" stroke="#CBD5E0" stroke-width="4" stroke-linecap="round"/>
            <path d="M165 146 L184 132" stroke="#CBD5E0" stroke-width="4" stroke-linecap="round"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerMeanWords(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-mean" viewBox="0 0 220 220" aria-label="Mean words bubble">
          <defs>
            <filter id="softShadow5" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M40,88 C30,52 70,16 110,24 C150,32 190,32 194,72
                   C198,112 202,162 160,190 C118,218 62,204 42,172
                   C26,144 54,126 40,88 Z"
                fill="#EDF2F7"/>

          <g filter="url(#softShadow5)">
            <rect x="56" y="110" width="78" height="78" rx="26" fill="#805AD5"/>
            <rect x="66" y="120" width="58" height="58" rx="22" fill="#B794F4" opacity="0.85"/>

            <!-- face -->
            <circle cx="84" cy="152" r="6" fill="#1A202C"/>
            <circle cx="110" cy="152" r="6" fill="#1A202C"/>
            <path d="M88 166 Q97 156 106 166" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>
          </g>

          <!-- wiggly “mean” bubble (no text) -->
          <g class="bubble tb" filter="url(#softShadow5)">
            <path d="M140 62
                     c26 0 44 16 44 34
                     c0 18 -18 34 -44 34
                     c-6 0 -12 -1 -18 -3
                     l-14 9 4 -16
                     c-10 -7 -16 -15 -16 -24
                     c0 -18 18 -34 44 -34z"
                  fill="#FEB2B2"/>
            <!-- scribble lines -->
            <path d="M122 86 C132 80, 142 92, 152 86
                     C162 80, 172 92, 182 86"
                  fill="none" stroke="#C53030" stroke-width="6" stroke-linecap="round"/>
            <path d="M126 106 C138 98, 150 112, 162 104
                     C170 100, 176 110, 184 106"
                  fill="none" stroke="#C53030" stroke-width="6" stroke-linecap="round"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerWhining(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-whine" viewBox="0 0 220 220" aria-label="Whining buddy">
          <defs>
            <filter id="softShadow6" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M40,90 C28,55 70,18 110,26 C150,34 190,34 194,74
                   C198,114 202,162 160,190 C118,218 62,204 42,172
                   C26,144 54,126 40,90 Z"
                fill="#E6FFFA"/>

          <g filter="url(#softShadow6)">
            <rect x="68" y="90" width="84" height="84" rx="26" fill="#48BB78"/>
            <rect x="78" y="100" width="64" height="64" rx="22" fill="#9AE6B4" opacity="0.95"/>

            <!-- worried eyes -->
            <circle cx="95" cy="134" r="6" fill="#1A202C"/>
            <circle cx="125" cy="134" r="6" fill="#1A202C"/>

            <!-- wobbly mouth -->
            <path d="M98 154 Q110 146 122 154" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>

            <!-- tear drop -->
            <path class="tear tb" d="M140 128 C148 140, 148 154, 140 160
                                    C132 154, 132 140, 140 128 Z"
                  fill="#63B3ED" opacity="0.95"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerBrainFog(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-fog" viewBox="0 0 220 220" aria-label="Brain fog cloud">
          <defs>
            <filter id="softShadow7" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M46,82 C34,44 82,20 116,30 C150,40 192,32 194,72
                   C196,112 196,160 156,188 C116,216 62,202 46,172
                   C30,144 58,120 46,82 Z"
                fill="#F7FAFC"/>

          <g class="cloud tb" filter="url(#softShadow7)">
            <path d="M70 130
                     c-14 0 -26 -10 -26 -24
                     c0 -12 8 -22 20 -24
                     c4 -18 22 -30 40 -24
                     c10 -10 28 -10 38 2
                     c14 0 26 12 26 26
                     c0 16 -12 26 -26 26H70z"
                  fill="#CBD5E0"/>
            <circle cx="92" cy="118" r="5.8" fill="#1A202C"/>
            <circle cx="124" cy="118" r="5.8" fill="#1A202C"/>
            <path d="M98 134 Q108 126 118 134" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerTimeWasted(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-time" viewBox="0 0 220 220" aria-label="Time wasted hourglass">
          <defs>
            <filter id="softShadow8" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M44,82 C32,44 82,20 116,30 C150,40 192,32 194,72
                   C196,112 196,160 156,188 C116,216 62,202 44,172
                   C28,144 58,120 44,82 Z"
                fill="#FFF5F5"/>

          <g class="glass tb" filter="url(#softShadow8)">
            <rect x="80" y="54" width="60" height="18" rx="8" fill="#718096"/>
            <rect x="80" y="148" width="60" height="18" rx="8" fill="#718096"/>

            <path d="M92 72
                     c0 20 18 20 18 38
                     c0 18 -18 18 -18 38
                     h56
                     c0 -20 -18 -20 -18 -38
                     c0 -18 18 -18 18 -38H92z"
                  fill="#FED7D7"/>

            <path d="M110 110 L110 122" stroke="#ED8936" stroke-width="8" stroke-linecap="round"/>
            <circle cx="110" cy="128" r="6" fill="#ED8936"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerAskHelp(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-help" viewBox="0 0 220 220" aria-label="Ask for help hand">
          <defs>
            <filter id="softShadow9" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M44,88 C32,50 76,18 114,26 C152,34 192,30 194,70
                   C196,110 198,160 156,188 C114,216 62,204 44,172
                   C28,144 58,126 44,88 Z"
                fill="#EBF8FF"/>

          <g class="hand tb" filter="url(#softShadow9)">
            <rect x="78" y="84" width="64" height="88" rx="26" fill="#4299E1"/>
            <rect x="88" y="94" width="44" height="68" rx="22" fill="#63B3ED" opacity="0.9"/>

            <!-- “raised hand” -->
            <path d="M150 132
                     c6 -10 0 -20 -10 -18
                     c-6 2 -8 8 -8 14
                     v22
                     c0 10 -8 18 -18 18
                     h-18
                     c-10 0 -18 -8 -18 -18
                     v-22
                     c0 -10 8 -18 18 -18
                     h18"
                  fill="#FFD166"/>

            <circle cx="102" cy="136" r="6" fill="#1A202C"/>
            <circle cx="118" cy="136" r="6" fill="#1A202C"/>
            <path d="M104 152 Q110 160 116 152" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerBattery(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-battery" viewBox="0 0 220 220" aria-label="Battery recharge">
          <defs>
            <filter id="softShadow10" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M44,88 C32,50 76,18 114,26 C152,34 192,30 194,70
                   C196,110 198,160 156,188 C114,216 62,204 44,172
                   C28,144 58,126 44,88 Z"
                fill="#F0FFF4"/>

          <g filter="url(#softShadow10)">
            <rect x="58" y="88" width="120" height="72" rx="22" fill="#2F855A" opacity="0.92"/>
            <rect x="176" y="108" width="14" height="32" rx="8" fill="#2F855A" class="cap tb"/>
            <rect x="70" y="100" width="96" height="48" rx="16" fill="#22543D" opacity="0.6"/>

            <!-- fill (JS will set width) -->
            <rect id="batteryFill" x="70" y="100" width="12" height="48" rx="16" fill="#68D391"/>
          </g>

          <!-- buddy face -->
          <g filter="url(#softShadow10)">
            <circle cx="104" cy="124" r="6" fill="#1A202C"/>
            <circle cx="130" cy="124" r="6" fill="#1A202C"/>
            <path d="M108 140 Q117 150 126 140" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>
          </g>
        </svg>
      </div>`;
    }

    function stickerShakeBuddy(){
      return `
      <div class="sticker-wrap">
        <svg class="sticker-svg st-shake" viewBox="0 0 220 220" aria-label="Wiggle buddy">
          <defs>
            <filter id="softShadow11" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="7" stdDeviation="7" flood-color="rgba(0,0,0,0.14)"/>
            </filter>
          </defs>

          <path d="M44,88 C32,50 76,18 114,26 C152,34 192,30 194,70
                   C196,110 198,160 156,188 C114,216 62,204 44,172
                   C28,144 58,126 44,88 Z"
                fill="#FAF5FF"/>

          <g id="wiggleBuddy" class="tb" filter="url(#softShadow11)">
            <rect x="70" y="88" width="84" height="92" rx="26" fill="#9F7AEA"/>
            <rect x="80" y="98" width="64" height="72" rx="22" fill="#D6BCFA" opacity="0.9"/>

            <circle cx="97" cy="132" r="6" fill="#1A202C"/>
            <circle cx="127" cy="132" r="6" fill="#1A202C"/>
            <path d="M102 148 Q112 160 122 148" fill="none" stroke="#1A202C" stroke-width="6" stroke-linecap="round"/>

            <!-- arms -->
            <path d="M72 130 C54 126 54 100 70 98" fill="none" stroke="#2D3748" stroke-width="7" stroke-linecap="round"/>
            <path d="M154 130 C172 126 172 100 156 98" fill="none" stroke="#2D3748" stroke-width="7" stroke-linecap="round"/>

            <!-- motion lines -->
            <path d="M40 120 L54 112" stroke="#805AD5" stroke-width="6" stroke-linecap="round" opacity="0.6"/>
            <path d="M180 120 L166 112" stroke="#805AD5" stroke-width="6" stroke-linecap="round" opacity="0.6"/>
          </g>
        </svg>
      </div>`;
    }

    /* =========================
       VIEWS
       ========================= */

    function showHome(){
      render(`
        <h1 class="title">Understanding Frustration</h1>
        <p class="sub">Feeling stuck is tough. Let’s untangle it with a funny “shape-sorter” brain.</p>

        <div class="grid-2">
          <div class="white-card">
            ${stickerSquarePeg()}
            <div class="card-title">The Big Tangle</div>
            <p class="card-desc">“I’m trying… but it’s not fitting!”</p>
            <button class="btn btn-orange" onclick="showReactions()">See Reactions</button>
          </div>

          <div class="white-card">
            ${stickerToolsBuddy()}
            <div class="card-title">Untangle Tools</div>
            <p class="card-desc">Small steps that make the puzzle easier.</p>
            <button class="btn btn-green" onclick="showSolutions()">Show Solutions</button>
          </div>
        </div>

        <div style="text-align:center; margin-top:28px;">
          <a class="menu-link" href="index.html">← Back to Menu</a>
        </div>
      `);
    }

    function showReactions(){
      render(`
        <button class="btn-back" onclick="showHome()">← Back</button>

        <h1 class="title orange-title">How Do We Act?</h1>
        <p class="sub" style="color: var(--orange1); font-weight:600;">Frustration can make us do silly things.</p>

        <div class="grid-2">
          <div class="white-card">
            ${stickerGiveUp()}
            <div class="card-title">Giving Up</div>
            <p class="card-desc">“I’m done!”</p>
          </div>

          <div class="white-card">
            ${stickerDestroy()}
            <div class="card-title">Destroying Work</div>
            <p class="card-desc">Rip, smash, toss…</p>
          </div>

          <div class="white-card">
            ${stickerMeanWords()}
            <div class="card-title">Mean Words</div>
            <p class="card-desc">Blurt out “hot” words.</p>
          </div>

          <div class="white-card">
            ${stickerWhining()}
            <div class="card-title">Whining</div>
            <p class="card-desc">“It’s not fair…”</p>
          </div>
        </div>

        <div class="white-card" style="margin-top: 26px; border-bottom-color: var(--orange1);">
          <p style="font-weight:600; font-size:20px; color: var(--orange2); margin:0 0 8px;">Do these help us fit the puzzle?</p>
          <button class="btn btn-orange" style="width:auto; padding:12px 18px;" onclick="showConsequences()">See The Result</button>
        </div>
      `);
    }

    function showConsequences(){
      render(`
        <button class="btn-back" onclick="showReactions()">← Back</button>

        <h1 class="title orange-title">Still Stuck…</h1>
        <p class="sub">Big reactions usually make the puzzle harder.</p>

        <div class="grid-2">
          <div class="white-card">
            ${stickerBrainFog()}
            <div class="card-title">Brain Fog</div>
            <p class="card-desc">Thinking feels cloudy.</p>
          </div>

          <div class="white-card">
            ${stickerTimeWasted()}
            <div class="card-title">Time Wasted</div>
            <p class="card-desc">The clock keeps dripping away.</p>
          </div>
        </div>

        <div class="white-card" style="margin-top: 26px; border-bottom-color: var(--green1);">
          <p style="font-weight:600; font-size:20px; color: var(--green2); margin:0 0 8px;">Let’s use the “tools” instead.</p>
          <button class="btn btn-green" style="width:auto; padding:12px 18px;" onclick="showSolutions()">Go To Solutions</button>
        </div>
      `);
    }

    function showSolutions(){
      render(`
        <button class="btn-back" onclick="showHome()">← Back to Start</button>

        <h1 class="title green-title">Un-Tangle Tools</h1>
        <p class="sub">These are small moves that help the “peg” fit the “hole.”</p>

        <div style="display:flex; flex-direction:column; gap: 26px; margin-top: 16px;">

          <div class="white-card" style="text-align:left; border-bottom-color: var(--blue1);">
            <div style="text-align:center;">${stickerAskHelp()}</div>
            <div class="card-title" style="text-align:center; color: var(--blue1);">Ask for a Clue</div>
            <p class="card-desc" style="text-align:center;">Ask an adult for one tiny hint — not the whole answer.</p>

            <div id="helpBubble" class="practice-bubble">“Excuse me… can you help me start?”</div>
            <button class="btn btn-blue" onclick="toggleHelpBubble()">Practice Asking</button>
          </div>

          <div class="white-card" style="text-align:left; border-bottom-color: var(--green1);">
            <div style="text-align:center;">${stickerBattery()}</div>
            <div class="card-title" style="text-align:center; color: var(--green1);">Recharge Power</div>
            <p class="card-desc" style="text-align:center;">Step away for 10 seconds. Come back stronger.</p>

            <div id="chargeTimer" style="text-align:center; font-size:30px; font-weight:600; color: var(--green2); margin-top:8px;"></div>
            <button class="btn btn-green" onclick="startCharge()">Start Recharge (10s)</button>
          </div>

          <div class="white-card" style="text-align:left; border-bottom-color: var(--orange1);">
            <div style="text-align:center;">
              <div id="breathCircle"
                style="width:110px; height:110px; background: linear-gradient(135deg, var(--orange1), #F6AD55);
                       border-radius: 999px; display:flex; align-items:center; justify-content:center;
                       color:#fff; font-weight:600; margin: 6px auto 14px; transition: transform 4s;
                       box-shadow: 0 12px 24px rgba(237,137,54,0.32);"
              >In</div>
            </div>

            <div class="card-title" style="text-align:center; color: var(--orange1);">Clear the Fog</div>
            <p class="card-desc" style="text-align:center;">Slow breathing makes your brain “less cloudy.”</p>

            <button class="btn btn-orange" onclick="toggleBreath()">Start Breathing</button>
          </div>

          <div class="white-card" id="shakeCard" style="text-align:left; border-bottom-color: var(--purple1);">
            <div style="text-align:center;">${stickerShakeBuddy()}</div>
            <div class="card-title" style="text-align:center; color: var(--purple2);">Shake It Off</div>
            <p class="card-desc" style="text-align:center;">Frustration feels tight. Wiggle your body for 2 seconds!</p>

            <button class="btn btn-purple" onclick="shakeIt()">Wiggle & Shake!</button>
          </div>

        </div>
      `);
    }

    /* =========================
       INTERACTION LOGIC
       ========================= */

    function toggleHelpBubble(){
      const b = document.getElementById("helpBubble");
      if(!b) return;
      b.style.display = (b.style.display === "block") ? "none" : "block";
    }

    let chargeInterval = null;

    function startCharge(){
      const timer = document.getElementById("chargeTimer");
      const fill  = document.getElementById("batteryFill");
      if(!timer || !fill) return;

      if(chargeInterval) clearInterval(chargeInterval);

      let t = 10;
      timer.textContent = "Recharging…";
      // battery fill from 12px to 96px
      fill.setAttribute("width", "12");

      chargeInterval = setInterval(() => {
        t--;
        timer.textContent = t > 0 ? `${t}s` : `Fully Charged!`;
        const w = 12 + ( (10 - t) / 10 ) * 84; // 12 -> 96
        fill.setAttribute("width", String(Math.max(12, Math.min(96, w))));
        if(t <= 0){
          clearInterval(chargeInterval);
          chargeInterval = null;
        }
      }, 1000);
    }

    let breathInterval = null;
    function toggleBreath(){
      const circle = document.getElementById("breathCircle");
      if(!circle) return;

      const running = circle.dataset.running === "1";

      if(running){
        circle.dataset.running = "0";
        circle.style.transform = "scale(1)";
        circle.textContent = "In";
        if(breathInterval) clearInterval(breathInterval);
        breathInterval = null;
        return;
      }

      circle.dataset.running = "1";
      circle.textContent = "In";
      circle.style.transform = "scale(1.45)";

      breathInterval = setInterval(() => {
        if(circle.textContent === "In"){
          circle.textContent = "Out";
          circle.style.transform = "scale(1)";
        } else {
          circle.textContent = "In";
          circle.style.transform = "scale(1.45)";
        }
      }, 4000);
    }

    function shakeIt(){
      const card = document.getElementById("shakeCard");
      if(!card) return;

      card.classList.add("shakingCard");
      setTimeout(() => card.classList.remove("shakingCard"), 2000);
    }

    showHome();
  </script>
</body>
</html>

ar<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arrogant â€” Brave Feelings Lab</title>

  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#F4FAFF;
      --ink:#0F172A;
      --muted:#64748B;

      --card:#ffffff;
      --shadow: 0 10px 26px rgba(0,0,0,0.06);

      --amber:#F59E0B;
      --amber2:#D97706;

      --sky:#0EA5E9;
      --sky2:#38BDF8;

      --teal:#0D9488;
      --teal2:#2DD4BF;

      --rose:#E11D48;
      --rose2:#FB7185;

      --indigo:#4338CA;
      --indigo2:#6366F1;

      --slate:#334155;
      --stroke:#CBD5E1;

      --radius:26px;
      --emoji-font:"Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0; padding:0;
      background:
        radial-gradient(#bae6fd 2px, transparent 2px) 0 0/30px 30px,
        linear-gradient(180deg, #F4FAFF, #FDF7FF);
      font-family:'Fredoka', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      display:flex;
      justify-content:center;
      min-height:100vh;
      overflow-x:hidden;
    }

    #app-container{
      width:100%;
      max-width:860px;
      padding:44px 18px;
      position:relative;
    }

    .white-card{
      background:var(--card);
      border-radius:var(--radius);
      padding:30px;
      box-shadow:var(--shadow);
      text-align:center;
      margin-bottom:24px;
      border-bottom:7px solid #E5E7EB;
      position:relative;
      overflow:hidden;
      transition: transform .18s ease;
    }
    .white-card:hover{ transform: translateY(-4px); }

    .title{
      font-size:40px;
      font-weight:900;
      text-align:center;
      margin:0 0 8px 0;
      letter-spacing:.2px;
      color:#0B1220;
    }
    .subtitle{
      text-align:center;
      color:var(--muted);
      margin:0 0 34px 0;
      font-size:18px;
      line-height:1.45;
    }

    .gold-title{ color: var(--amber2); }

    .card-title{
      font-size:22px;
      font-weight:900;
      margin:12px 0 6px 0;
      color:#0B1220;
      letter-spacing:.1px;
    }
    .card-desc{
      font-size:16px;
      color:var(--muted);
      line-height:1.55;
      margin:0;
    }

    .btn{
      padding:14px 22px;
      border-radius:16px;
      font-weight:900;
      font-size:18px;
      border:none;
      cursor:pointer;
      color:white;
      transition: transform .2s ease, filter .2s ease;
      width:100%;
      margin-top:16px;
      box-shadow:0 7px 16px rgba(0,0,0,0.12);
      font-family:inherit;
      letter-spacing:.15px;
      user-select:none;
    }
    .btn:hover{ transform: scale(1.02); filter: brightness(1.06); }
    .btn:disabled{ opacity:.75; cursor:not-allowed; transform:none; }

    .btn-amber{ background: linear-gradient(135deg, var(--amber), var(--amber2)); }
    .btn-sky{ background: linear-gradient(135deg, var(--sky2), var(--sky)); }
    .btn-teal{ background: linear-gradient(135deg, var(--teal2), var(--teal)); }
    .btn-rose{ background: linear-gradient(135deg, var(--rose2), var(--rose)); }
    .btn-indigo{ background: linear-gradient(135deg, var(--indigo2), var(--indigo)); }

    .btn-back{
      background:white;
      border:2px solid var(--stroke);
      color:var(--slate);
      padding:9px 16px;
      border-radius:14px;
      font-weight:900;
      cursor:pointer;
      margin-bottom:18px;
      font-family:inherit;
      user-select:none;
    }

    .grid-2{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:22px;
    }
    @media (max-width:650px){
      .grid-2{ grid-template-columns:1fr; }
    }

    /* Pills */
    .pillRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:center;
      margin-top:14px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 12px;
      border-radius:999px;
      font-weight:900;
      font-size:13px;
      border:2px solid rgba(15,23,42,0.10);
      background: rgba(255,255,255,0.78);
      color:#0B1220;
    }
    .pill small{
      font-weight:900;
      color:#475569;
      opacity:.95;
    }

    /* Emoji Scene (native emoji only) */
    .scene{
      width:100%;
      height:165px;
      border-radius:22px;
      border:2px dashed rgba(15,23,42,0.14);
      background:
        radial-gradient(circle at 14% 18%, rgba(56,189,248,0.22), transparent 52%),
        radial-gradient(circle at 82% 72%, rgba(245,158,11,0.20), transparent 56%),
        linear-gradient(135deg, rgba(255,255,255,0.6), rgba(255,255,255,0.0));
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      margin:0 auto 10px auto;
      overflow:hidden;
      user-select:none;
    }
    .scene.alt-amber{
      background:
        radial-gradient(circle at 18% 20%, rgba(245,158,11,0.25), transparent 54%),
        radial-gradient(circle at 84% 72%, rgba(217,119,6,0.18), transparent 58%),
        linear-gradient(135deg, rgba(255,255,255,0.58), rgba(255,255,255,0.0));
      border-color: rgba(245,158,11,0.25);
    }
    .scene.alt-sky{
      background:
        radial-gradient(circle at 16% 20%, rgba(56,189,248,0.26), transparent 54%),
        radial-gradient(circle at 84% 74%, rgba(14,165,233,0.18), transparent 58%),
        linear-gradient(135deg, rgba(255,255,255,0.58), rgba(255,255,255,0.0));
      border-color: rgba(14,165,233,0.22);
    }
    .scene.alt-teal{
      background:
        radial-gradient(circle at 16% 22%, rgba(45,212,191,0.22), transparent 54%),
        radial-gradient(circle at 82% 72%, rgba(13,148,136,0.18), transparent 58%),
        linear-gradient(135deg, rgba(255,255,255,0.58), rgba(255,255,255,0.0));
      border-color: rgba(13,148,136,0.20);
    }
    .scene.alt-rose{
      background:
        radial-gradient(circle at 16% 22%, rgba(251,113,133,0.22), transparent 54%),
        radial-gradient(circle at 82% 72%, rgba(225,29,72,0.18), transparent 58%),
        linear-gradient(135deg, rgba(255,255,255,0.58), rgba(255,255,255,0.0));
      border-color: rgba(225,29,72,0.18);
    }
    .scene.alt-indigo{
      background:
        radial-gradient(circle at 16% 22%, rgba(99,102,241,0.22), transparent 54%),
        radial-gradient(circle at 82% 72%, rgba(67,56,202,0.18), transparent 58%),
        linear-gradient(135deg, rgba(255,255,255,0.58), rgba(255,255,255,0.0));
      border-color: rgba(67,56,202,0.20);
    }

    .emoji-main{
      font-family:var(--emoji-font);
      font-size:78px;
      filter: drop-shadow(0 18px 18px rgba(0,0,0,0.16));
      animation: floaty 2.6s infinite ease-in-out;
    }
    .emoji-mini{
      position:absolute;
      font-family:var(--emoji-font);
      font-size:32px;
      filter: drop-shadow(0 10px 12px rgba(0,0,0,0.14));
      opacity:0.98;
      animation: wobble 1.4s infinite ease-in-out;
    }
    .m1{ left:18px; top:18px; transform: rotate(-10deg); }
    .m2{ right:18px; top:18px; transform: rotate(10deg); animation-delay:.12s; }
    .m3{ right:22px; bottom:16px; transform: rotate(-8deg); animation-delay:.24s; }

    @keyframes floaty{
      0%,100%{ transform: translateY(0) scale(1); }
      50%{ transform: translateY(-14px) scale(1.05); }
    }
    @keyframes wobble{
      0%{ transform: rotate(0deg); }
      25%{ transform: rotate(6deg); }
      50%{ transform: rotate(0deg); }
      75%{ transform: rotate(-6deg); }
      100%{ transform: rotate(0deg); }
    }
    @keyframes boing{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.18); }
    }
    @keyframes popMain{
      0%{ transform: scale(1); }
      50%{ transform: scale(1.18); }
      100%{ transform: scale(1); }
    }
    @keyframes gentleShake{
      0%,100%{ transform: rotate(0deg); }
      20%{ transform: rotate(-3deg); }
      40%{ transform: rotate(3deg); }
      60%{ transform: rotate(-2deg); }
      80%{ transform: rotate(2deg); }
    }

    .scene.is-pop .emoji-main{ animation: popMain .55s ease-in-out 1; }
    .scene.is-shake .emoji-main{ animation: gentleShake .55s ease-in-out 1; }

    .mini-panel{
      background:#F8FAFC;
      border:2px dashed #CBD5E1;
      border-radius:18px;
      padding:14px;
      margin-top:12px;
      text-align:center;
    }

    .bubble{
      display:none;
      background:#FFFBEB;
      border:2px solid #FDE68A;
      color:#92400E;
      padding:14px 14px;
      border-radius:18px;
      font-weight:900;
      margin-top:12px;
      line-height:1.35;
    }

    .inputRow{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:12px;
      justify-content:center;
    }
    .inputRow input, .inputRow textarea{
      flex:1;
      min-width:220px;
      font-family:inherit;
      padding:12px 12px;
      border-radius:16px;
      border:2px solid rgba(51,65,85,0.16);
      outline:none;
      background: rgba(255,255,255,0.92);
      box-shadow: inset 0 1px 0 rgba(0,0,0,0.04);
      font-size:15px;
      color:#0B1220;
    }
    .inputRow textarea{ min-height:44px; resize:vertical; }

    .result{
      margin-top:12px;
      padding:14px 14px;
      border-radius:18px;
      border:2px solid rgba(245,158,11,0.22);
      background: rgba(245,158,11,0.10);
      color:#7C2D12;
      font-weight:900;
      line-height:1.35;
      display:none;
      text-align:left;
    }
    .result small{
      display:block;
      margin-top:8px;
      color: rgba(124,45,18,0.78);
      font-weight:900;
    }

    .timerRow{
      display:flex;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
      margin-top:12px;
      justify-content:center;
    }
    .timerFace{
      font-size:34px;
      font-weight:900;
      color:#0B1220;
      min-width:140px;
      text-align:center;
      padding:10px 14px;
      border-radius:16px;
      border:2px solid rgba(51,65,85,0.14);
      background: rgba(255,255,255,0.92);
    }
    .bar{
      flex:1;
      min-width:220px;
      height:16px;
      background: rgba(15,23,42,0.08);
      border-radius:999px;
      overflow:hidden;
      border:2px solid rgba(51,65,85,0.12);
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(245,158,11,0.75), rgba(56,189,248,0.65));
      transition: width .2s ease;
    }

    .choiceGrid{
      margin-top:12px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:12px;
    }
    @media (max-width:650px){
      .choiceGrid{ grid-template-columns: 1fr; }
    }
    .choiceBtn{
      border:2px solid rgba(51,65,85,0.14);
      background: rgba(56,189,248,0.10);
      border-radius:18px;
      padding:14px 12px;
      cursor:pointer;
      font-family:inherit;
      font-weight:900;
      color:#0B1220;
      box-shadow:0 10px 18px rgba(0,0,0,0.10);
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      text-align:left;
    }
    .choiceBtn:hover{ transform: translateY(-2px); filter:saturate(1.05); }
    .choiceBtn:active{ transform: translateY(0px) scale(.99); }

    .meter{
      margin-top:12px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      padding:12px 14px;
      border-radius:18px;
      border:2px solid rgba(13,148,136,0.20);
      background: rgba(45,212,191,0.10);
      font-weight:900;
      color:#064E3B;
    }

    .footerLink{
      text-align:center;
      margin-top:26px;
    }
    .footerLink a{
      color:#94A3B8;
      text-decoration:none;
      font-weight:900;
    }
  </style>
</head>

<body>
  <div id="app-container"></div>

  <script>
    const container = document.getElementById('app-container');

    // ===== Robust helpers =====
    const _intervals = [];
    const _timeouts = [];
    function addInterval(id){ _intervals.push(id); return id; }
    function addTimeout(id){ _timeouts.push(id); return id; }

    function clearAllIntervals(){
      while(_intervals.length){
        const id = _intervals.pop();
        try{ clearInterval(id); }catch(e){}
      }
      while(_timeouts.length){
        const id = _timeouts.pop();
        try{ clearTimeout(id); }catch(e){}
      }
    }

    function scene(main, mini1, mini2, mini3, altClass, id){
      const safeId = id ? `id="${id}"` : "";
      return `
        <div class="scene ${altClass || ""}" ${safeId} aria-hidden="true">
          <div class="emoji-main">${main}</div>
          <div class="emoji-mini m1">${mini1}</div>
          <div class="emoji-mini m2">${mini2}</div>
          <div class="emoji-mini m3">${mini3}</div>
        </div>
      `;
    }

    function animateScene(id, mode){
      const el = document.getElementById(id);
      if(!el) return;
      el.classList.remove("is-pop","is-shake");
      void el.offsetWidth;
      el.classList.add(mode);
      addTimeout(setTimeout(()=> el.classList.remove(mode), 650));
    }

    // ===== View 1: HOME =====
    function showHome(){
      clearAllIntervals();
      container.innerHTML = `
        <h1 class="title">Arrogant</h1>
        <p class="subtitle">When your brain whispers, â€œIâ€™m the bestâ€â€¦ and you forget to be kind.</p>

        <div class="grid-2">
          <div class="white-card" style="border-bottom-color: var(--amber);">
            ${scene("ğŸ‘‘","ğŸ˜","ğŸ“£","ğŸª","alt-amber")}
            <div class="card-title">Whatâ€™s happening?</div>
            <p class="card-desc">
              Arrogant is when you feel â€œaboveâ€ others. You might brag, boss, or act like you already know everything.
              Inside, itâ€™s often your brain trying to feel important or safe.
            </p>

            <div class="pillRow" aria-label="Body signals and triggers">
              <span class="pill"><small>Body:</small> chin up</span>
              <span class="pill"><small>Body:</small> tight chest</span>
              <span class="pill"><small>Body:</small> fast talking</span>
              <span class="pill"><small>Triggers:</small> winning</span>
              <span class="pill"><small>Triggers:</small> being praised</span>
              <span class="pill"><small>Triggers:</small> comparing</span>
            </div>

            <button class="btn btn-amber" onclick="showReactions()">See Behaviors</button>
          </div>

          <div class="white-card" style="border-bottom-color: var(--sky);">
            ${scene("ğŸ§°","ğŸ§ ","ğŸ¤","âœ¨","alt-sky")}
            <div class="card-title">Tools</div>
            <p class="card-desc">
              These tools help you calm your body, share the spotlight, listen better, and use strong words that build friendships.
              You can still be proudâ€”without pushing others down.
            </p>
            <button class="btn btn-sky" onclick="showSolutions()">Show Comfort Tools</button>
          </div>
        </div>

        <div class="footerLink">
          <a href="index.html">â† Back to Menu</a>
        </div>
      `;
    }

    // ===== View 2: REACTIONS =====
    function showReactions(){
      clearAllIntervals();
      container.innerHTML = `
        <button class="btn-back" onclick="showHome()">â† Back</button>
        <h1 class="title gold-title">How Do I Act When Iâ€™m Arrogant?</h1>
        <p class="subtitle" style="color: var(--amber2); font-weight:900;">These are clues your heart needs a reset.</p>

        <div class="grid-2">
          <div class="white-card" style="border-bottom-color:#FCD34D;">
            ${scene("ğŸ†","ğŸ“£","ğŸ˜","ğŸ‘€","alt-amber")}
            <div class="card-title">Bragging</div>
            <p class="card-desc">I talk about myself a lot, like my wins are the only thing that matters.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#93C5FD;">
            ${scene("ğŸ—£ï¸","âœ‹","â¹ï¸","ğŸ˜¤","alt-sky")}
            <div class="card-title">Interrupting</div>
            <p class="card-desc">I cut people off because my words feel â€œmore importantâ€ right now.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#A7F3D0;">
            ${scene("ğŸ‘‰","ğŸ§­","ğŸš¦","ğŸ˜ ","alt-teal")}
            <div class="card-title">Bossy Mode</div>
            <p class="card-desc">I tell others what to do, even when itâ€™s not my job.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#FDA4AF;">
            ${scene("ğŸ™ƒ","ğŸ‘‰","ğŸ˜Ÿ","ğŸ˜‚","alt-rose")}
            <div class="card-title">Teasing to Feel Big</div>
            <p class="card-desc">I poke fun at someone so I can feel â€œhigherâ€ for a moment.</p>
          </div>
        </div>

        <div class="white-card" style="margin-top:26px; border-bottom-color: var(--indigo);">
          <p style="font-weight:900; font-size:20px; color: var(--indigo); margin:0;">
            What happens if Arrogant Mode keeps driving?
          </p>
          <button class="btn btn-indigo" style="width:auto; margin-top:14px;" onclick="showConsequences()">See Consequences â”</button>
        </div>
      `;
    }

    // ===== View 3: CONSEQUENCES =====
    function showConsequences(){
      clearAllIntervals();
      container.innerHTML = `
        <button class="btn-back" onclick="showReactions()">â† Back</button>
        <h1 class="title gold-title">When Arrogant Mode Takes Overâ€¦</h1>
        <p class="subtitle">It can push people away and block learningâ€”even if you donâ€™t mean to.</p>

        <div class="grid-2">
          <div class="white-card" style="border-bottom-color:#FB7185;">
            ${scene("ğŸ’”","ğŸ˜¢","ğŸ—¯ï¸","ğŸ«§","alt-rose")}
            <div class="card-title">Hurt Feelings</div>
            <p class="card-desc">Friends can feel small, embarrassed, or unsafe around you.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#2DD4BF;">
            ${scene("ğŸ§©","ğŸš«","ğŸ¤","ğŸ˜•","alt-teal")}
            <div class="card-title">Less Teamwork</div>
            <p class="card-desc">People stop sharing ideas, so the group gets weaker.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#60A5FA;">
            ${scene("ğŸ“š","ğŸšª","ğŸ™ˆ","ğŸ’¡","alt-sky")}
            <div class="card-title">Missed Learning</div>
            <p class="card-desc">If you act like you know it all, you donâ€™t get better.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#A78BFA;">
            ${scene("ğŸ§","ğŸŒ§ï¸","ğŸ•³ï¸","ğŸ¾","alt-indigo")}
            <div class="card-title">Lonely Later</div>
            <p class="card-desc">Arrogant Mode can leave you alone, even after the â€œbigâ€ feeling fades.</p>
          </div>
        </div>

        <div class="white-card" style="margin-top:26px; border-bottom-color: var(--teal);">
          <p style="font-weight:900; font-size:20px; color: var(--teal); margin:0;">
            Good news: you can be confident AND kind.
          </p>
          <button class="btn btn-teal" style="width:auto; margin-top:14px;" onclick="showSolutions()">Go to Comfort Tools â”</button>
        </div>
      `;
    }

    // ===== View 4: COMFORT TOOLS =====
    let coolRemaining = 60;
    let coolRunning = false;

    let listenTokens = 0; // 0..6
    let ladderStep = 0;   // 0..3

    const spotlightActions = [
      "Ask: â€œWhat do you think?â€",
      "Say: â€œGood ideaâ€”letâ€™s try it.â€",
      "Let someone else choose the game.",
      "Give a real compliment to a friend.",
      "Share your turn without rushing.",
      "Say: â€œIâ€™m still learning too.â€"
    ];

    function showSolutions(){
      clearAllIntervals();
      resetCoolDown(true);
      listenTokens = 0;
      ladderStep = 0;

      container.innerHTML = `
        <button class="btn-back" onclick="showHome()">â† Back to Start</button>
        <h1 class="title gold-title">Comfort Tools</h1>
        <p class="subtitle">Each tool looks like what it doesâ€”so kids understand instantly.</p>

        <div style="display:flex; flex-direction:column; gap:26px; margin-top:18px;">

          <!-- TOOL 1: 60-second timer -->
          <div class="white-card" style="border-bottom-color: var(--amber);">
            ${scene("ğŸ‘‘","â±ï¸","ğŸŒ¬ï¸","ğŸ§Š","alt-amber","sceneCool")}
            <div class="card-title" style="color: var(--amber2);">Crown Cool-Down (60 seconds)</div>
            <p class="card-desc">
              One minute helps your body calm down so your â€œkind brainâ€ can lead. You can still feel proudâ€”just not pushy.
            </p>

            <div class="timerRow">
              <div class="timerFace" id="coolFace">01:00</div>
              <div class="bar" aria-label="timer progress"><div id="coolBar"></div></div>
            </div>

            <button class="btn btn-amber" id="coolBtn" onclick="startCoolDown()">Start</button>
            <button class="btn btn-sky" style="margin-top:10px;" onclick="pauseCoolDown()">Pause</button>
            <button class="btn btn-rose" style="margin-top:10px;" onclick="resetCoolDown()">Reset</button>
          </div>

          <!-- TOOL 2: WORDS tool (Compliment Catcher) -->
          <div class="white-card" style="border-bottom-color: var(--teal);">
            ${scene("ğŸ£","ğŸ’¬","ğŸŒŸ","ğŸ¤","alt-teal","sceneCompliment")}
            <div class="card-title" style="color: var(--teal);">Compliment Catcher (Words Tool)</div>
            <p class="card-desc">
              Kind words build connection fast. When you lift someone up, your brain learns â€œI can be strong AND kind.â€
            </p>

            <div class="inputRow">
              <input id="compName" type="text" placeholder="Friendâ€™s name (example: â€œSamâ€)" />
              <input id="compThing" type="text" placeholder="Something they did (example: â€œhelped meâ€)"/>
            </div>

            <button class="btn btn-teal" onclick="makeCompliment()">Make my compliment</button>
            <button class="btn btn-indigo" style="margin-top:10px;" onclick="clearCompliment()">Clear</button>

            <div class="result" id="compResult"></div>
          </div>

          <!-- TOOL 3: LISTEN TOKENS (active animation) -->
          <div class="white-card" style="border-bottom-color: var(--sky);">
            ${scene("ğŸ§","ğŸª™","ğŸ—£ï¸","âœ…","alt-sky","sceneListen")}
            <div class="card-title" style="color: var(--sky);">Listen Tokens</div>
            <p class="card-desc">
              Listening is a superpower. Every time you let someone finish, you earn a token and friendships get stronger.
            </p>

            <div class="meter" id="listenMeter">
              <span>Tokens</span>
              <span id="listenValue">0 / 6</span>
            </div>

            <button class="btn btn-sky" onclick="earnToken()">I listened! (+1)</button>
            <button class="btn btn-rose" style="margin-top:10px;" onclick="resetTokens()">Reset tokens</button>

            <div class="bubble" id="listenTip">
              Try this: â€œIâ€™ll go after you. Keep talking.â€
            </div>
          </div>

          <!-- TOOL 4: SHARE THE SPOTLIGHT (spinner) -->
          <div class="white-card" style="border-bottom-color: var(--indigo);">
            ${scene("ğŸ¯","ğŸ²","ğŸŒŸ","ğŸ¤²","alt-indigo","sceneSpotlight")}
            <div class="card-title" style="color: var(--indigo);">Share-the-Spotlight Spinner</div>
            <p class="card-desc">
              Your brain likes â€œme first.â€ This spinner helps you pick one small action that shares power and keeps things fair.
            </p>

            <div class="mini-panel">
              <div style="font-weight:900; font-size:18px; color:#0B1220;">Your spotlight move:</div>
              <div style="font-weight:900; font-size:22px; margin-top:10px; color: var(--indigo);" id="spotlightPick">Tap â€œSpinâ€</div>
              <div style="color: var(--muted); margin-top:6px; font-weight:900;">Do it once. Small is powerful.</div>
            </div>

            <button class="btn btn-indigo" onclick="spinSpotlight()">Spin</button>
          </div>

          <!-- TOOL 5: OOPS-TO-LEARNING LADDER (stepper) -->
          <div class="white-card" style="border-bottom-color: var(--rose);">
            ${scene("ğŸªœ","ğŸ§ ","ğŸ§©","ğŸ› ï¸","alt-rose","sceneLadder")}
            <div class="card-title" style="color: var(--rose);">Oops-to-Learning Ladder</div>
            <p class="card-desc">
              Confidence grows when you learn, not when you pretend youâ€™re perfect. Use this ladder when you mess up.
            </p>

            <div class="mini-panel" id="ladderPanel">
              <div class="pillRow" style="margin-top:0;">
                <span class="pill"><small>Step:</small> <span id="ladderStep">1</span> / 3</span>
              </div>
              <div style="font-weight:900; font-size:22px; margin-top:10px;" id="ladderLine">1) Say: â€œOops.â€</div>
              <div style="color: var(--muted); margin-top:6px; font-weight:900;" id="ladderHelp">Owning it is brave.</div>
            </div>

            <button class="btn btn-rose" onclick="nextLadder()">Next step</button>
            <button class="btn btn-teal" style="margin-top:10px;" onclick="resetLadder()">Reset ladder</button>
          </div>

          <!-- TOOL 6: BODY TOOL (active animation) -->
          <div class="white-card" style="border-bottom-color: var(--teal);">
            ${scene("ğŸ§","â¬‡ï¸","ğŸ«¶","ğŸŒ¬ï¸","alt-teal","sceneShoulders")}
            <div class="card-title" style="color: var(--teal);">Shoulder Drop Reset</div>
            <p class="card-desc">
              When your body softens, your voice softens too. Do 6 shoulder drops to switch off â€œbossy energy.â€
            </p>

            <div class="meter">
              <span>Drops</span>
              <span id="dropValue">0 / 6</span>
            </div>

            <button class="btn btn-teal" onclick="doDrop()">Drop shoulders (+1)</button>
            <button class="btn btn-amber" style="margin-top:10px;" onclick="resetDrops()">Reset</button>

            <div class="bubble" id="dropTip">
              Tip: Lift shoulders to your ears for 1 secondâ€¦ then drop and let hands feel soft.
            </div>
          </div>

        </div>

        <div class="footerLink">
          <a href="index.html">â† Back to Menu</a>
        </div>
      `;

      renderCoolDown();
      updateTokensUI();
      updateLadderUI();
      updateDropUI();
    }

    // ===== Tool 1: Cool-Down Timer =====
    function fmtTime(s){
      const mm = String(Math.floor(s/60)).padStart(2,"0");
      const ss = String(s%60).padStart(2,"0");
      return `${mm}:${ss}`;
    }

    function renderCoolDown(){
      const face = document.getElementById("coolFace");
      const bar  = document.getElementById("coolBar");
      if(face) face.textContent = fmtTime(coolRemaining);
      if(bar){
        const pct = ((60 - coolRemaining)/60)*100;
        bar.style.width = `${Math.max(0, Math.min(100, pct))}%`;
      }
    }

    function startCoolDown(){
      animateScene("sceneCool","is-pop");
      if(coolRunning) return;
      coolRunning = true;

      addInterval(setInterval(()=>{
        if(!coolRunning) return;
        coolRemaining = Math.max(0, coolRemaining - 1);
        renderCoolDown();

        if(coolRemaining === 0){
          coolRunning = false;
          animateScene("sceneCool","is-shake");
          addTimeout(setTimeout(()=>{
            coolRemaining = 60;
            renderCoolDown();
          }, 900));
        }
      }, 1000));
    }

    function pauseCoolDown(){
      animateScene("sceneCool","is-shake");
      coolRunning = false;
    }

    function resetCoolDown(silent){
      coolRunning = false;
      coolRemaining = 60;
      renderCoolDown();
      if(!silent) animateScene("sceneCool","is-pop");
    }

    // ===== Tool 2: Compliment Catcher =====
    function makeCompliment(){
      animateScene("sceneCompliment","is-pop");
      const name = ((document.getElementById("compName") || {}).value || "").trim();
      const thing = ((document.getElementById("compThing") || {}).value || "").trim();
      const out = document.getElementById("compResult");
      if(!out) return;

      const n = name || "____";
      const t = thing ? `when you ${thing}` : "when you ____";
      const line1 = `â€œHey ${n}, I noticed ${t}.â€`;
      const line2 = `â€œThat was really helpful. Thank you.â€`;
      const line3 = `â€œDo you want to show me your idea too?â€`;

      out.style.display = "block";
      out.innerHTML = `<strong>Try this:</strong><br>${line1}<br>${line2}<br>${line3}
        <small>Why it helps: Kind words strengthen friendships and train your brain to share power.</small>`;
    }

    function clearCompliment(){
      animateScene("sceneCompliment","is-shake");
      const a = document.getElementById("compName");
      const b = document.getElementById("compThing");
      const out = document.getElementById("compResult");
      if(a) a.value = "";
      if(b) b.value = "";
      if(out){ out.style.display="none"; out.textContent=""; }
    }

    // ===== Tool 3: Listen Tokens =====
    function updateTokensUI(){
      const v = document.getElementById("listenValue");
      const tip = document.getElementById("listenTip");
      if(v) v.textContent = `${listenTokens} / 6`;
      if(tip) tip.style.display = (listenTokens > 0 ? "block" : "none");
    }

    function earnToken(){
      animateScene("sceneListen","is-shake");
      listenTokens = Math.min(6, listenTokens + 1);
      updateTokensUI();
      if(listenTokens === 6){
        const tip = document.getElementById("listenTip");
        if(tip){
          tip.style.display = "block";
          tip.textContent = "Super listening! Now say: â€œThanks for sharing. I heard you.â€";
        }
      }
    }

    function resetTokens(){
      animateScene("sceneListen","is-pop");
      listenTokens = 0;
      const tip = document.getElementById("listenTip");
      if(tip) tip.textContent = "Try this: â€œIâ€™ll go after you. Keep talking.â€";
      updateTokensUI();
    }

    // ===== Tool 4: Spotlight Spinner =====
    function spinSpotlight(){
      animateScene("sceneSpotlight","is-pop");
      const pick = document.getElementById("spotlightPick");
      if(!pick) return;
      const i = Math.floor(Math.random() * spotlightActions.length);
      pick.textContent = spotlightActions[i];
    }

    // ===== Tool 5: Ladder Stepper =====
    const ladderSteps = [
      { line: "1) Say: â€œOops.â€", help: "Owning it is brave." },
      { line: "2) Say: â€œI can learn.â€", help: "Learning makes you stronger than bragging." },
      { line: "3) Say: â€œLetâ€™s try again.â€", help: "Try one small fixâ€”then keep going." }
    ];

    function updateLadderUI(){
      const stepEl = document.getElementById("ladderStep");
      const lineEl = document.getElementById("ladderLine");
      const helpEl = document.getElementById("ladderHelp");
      if(!stepEl || !lineEl || !helpEl) return;

      const idx = Math.max(0, Math.min(2, ladderStep));
      stepEl.textContent = String(idx + 1);
      lineEl.textContent = ladderSteps[idx].line;
      helpEl.textContent = ladderSteps[idx].help;
    }

    function nextLadder(){
      animateScene("sceneLadder","is-pop");
      ladderStep = (ladderStep + 1) % 3;
      updateLadderUI();
    }

    function resetLadder(){
      animateScene("sceneLadder","is-shake");
      ladderStep = 0;
      updateLadderUI();
    }

    // ===== Tool 6: Shoulder Drop =====
    let drops = 0;
    function updateDropUI(){
      const v = document.getElementById("dropValue");
      const tip = document.getElementById("dropTip");
      if(v) v.textContent = `${drops} / 6`;
      if(tip) tip.style.display = (drops > 0 ? "block" : "none");
    }

    function doDrop(){
      animateScene("sceneShoulders","is-shake");
      drops = Math.min(6, drops + 1);
      updateDropUI();

      if(drops === 6){
        const tip = document.getElementById("dropTip");
        if(tip){
          tip.style.display = "block";
          tip.textContent = "Nice reset! Try one kind sentence: â€œYour turnâ€”whatâ€™s your idea?â€";
        }
      }
    }

    function resetDrops(){
      animateScene("sceneShoulders","is-pop");
      drops = 0;
      const tip = document.getElementById("dropTip");
      if(tip) tip.textContent = "Tip: Lift shoulders to your ears for 1 secondâ€¦ then drop and let hands feel soft.";
      updateDropUI();
    }

    // Never blank page on load:
    showHome();
  </script>
</body>
</html>
r

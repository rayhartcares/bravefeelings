<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Understanding Arrogance â€” Brave Feelings Lab</title>

  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bgA:#F2FAFF;
      --bgB:#FFF7FB;
      --ink:#0F172A;
      --muted:#64748B;

      --card:#ffffff;
      --shadow: 0 10px 26px rgba(0,0,0,0.07);
      --radius:26px;

      --blue:#2563EB;
      --sky:#0EA5E9;
      --teal:#0D9488;
      --amber:#D97706;
      --rose:#E11D48;
      --indigo:#4338CA;
      --green:#16A34A;

      --emoji-font: "Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0; padding:0;
      font-family:'Fredoka', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      min-height:100vh;
      display:flex;
      justify-content:center;
      overflow-x:hidden;
      background:
        radial-gradient(circle at 2px 2px, rgba(2,132,199,.12) 1.5px, transparent 1.7px) 0 0 / 24px 24px,
        radial-gradient(circle at 12px 12px, rgba(99,102,241,.08) 1.2px, transparent 1.4px) 0 0 / 24px 24px,
        linear-gradient(135deg, var(--bgA), var(--bgB));
    }

    #app{
      width:100%;
      max-width:860px;
      padding:44px 18px 54px;
      position:relative;
    }

    .title{
      font-size:40px;
      font-weight:800;
      text-align:center;
      margin:0 0 8px 0;
      letter-spacing:.2px;
      color:#0F172A;
    }
    .subtitle{
      text-align:center;
      color:var(--muted);
      margin:0 0 34px 0;
      font-size:18px;
      line-height:1.45;
    }

    .white-card{
      background:var(--card);
      border-radius:var(--radius);
      padding:30px;
      box-shadow:var(--shadow);
      text-align:center;
      margin-bottom:24px;
      border-bottom:7px solid #E5E7EB;
      position:relative;
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .white-card:hover{
      transform: translateY(-4px);
      box-shadow: 0 14px 30px rgba(0,0,0,0.08);
    }

    .card-title{
      font-size:22px;
      font-weight:900;
      margin:10px 0 6px 0;
      color:#0F172A;
    }
    .card-desc{
      font-size:16px;
      color:var(--muted);
      line-height:1.55;
      margin:0;
    }

    .grid-2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:22px;
    }
    @media (max-width:650px){
      .grid-2{ grid-template-columns:1fr; }
      #app{ padding:34px 14px 48px; }
    }

    .btn{
      padding:14px 22px;
      border-radius:16px;
      font-weight:900;
      font-size:18px;
      border:none;
      cursor:pointer;
      color:white;
      transition: transform .2s ease, filter .2s ease;
      width:100%;
      margin-top:16px;
      box-shadow: 0 7px 16px rgba(0,0,0,0.12);
      font-family:inherit;
    }
    .btn:hover{ transform: scale(1.02); filter: brightness(1.06); }
    .btn:disabled{ opacity:.75; cursor:not-allowed; transform:none; }

    .btn-blue   { background: linear-gradient(135deg, #3B82F6, #2563EB); }
    .btn-sky    { background: linear-gradient(135deg, #38BDF8, #0EA5E9); }
    .btn-teal   { background: linear-gradient(135deg, #2DD4BF, #0D9488); }
    .btn-amber  { background: linear-gradient(135deg, #FBBF24, #D97706); }
    .btn-rose   { background: linear-gradient(135deg, #FB7185, #E11D48); }
    .btn-indigo { background: linear-gradient(135deg, #6366F1, #4338CA); }
    .btn-green  { background: linear-gradient(135deg, #34D399, #16A34A); }

    .btn-back{
      background:white;
      border:2px solid #CBD5E1;
      color:#334155;
      padding:9px 16px;
      border-radius:14px;
      font-weight:900;
      cursor:pointer;
      margin-bottom:18px;
      font-family:inherit;
    }

    .pillRow{
      margin-top:12px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      justify-content:center;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 12px;
      border-radius:999px;
      font-weight:900;
      font-size:13px;
      background:#E0F2FE;
      color:#075985;
      border:1px solid #BAE6FD;
    }
    .pill small{
      font-weight:900;
      opacity:.9;
      color:#0369A1;
    }

    /* Emoji Scenes */
    .scene{
      width:100%;
      height:170px;
      border-radius:22px;
      position:relative;
      margin:0 auto 10px auto;
      overflow:hidden;
      border:2px dashed rgba(148,163,184,.65);
      background:
        radial-gradient(circle at 18% 25%, rgba(56,189,248,.26), transparent 55%),
        radial-gradient(circle at 82% 70%, rgba(99,102,241,.18), transparent 60%),
        radial-gradient(circle at 55% 18%, rgba(251,113,133,.16), transparent 58%),
        linear-gradient(135deg, rgba(255,255,255,.75), rgba(255,255,255,.15));
    }
    .scene.altA{
      background:
        radial-gradient(circle at 20% 28%, rgba(34,211,238,.25), transparent 55%),
        radial-gradient(circle at 80% 72%, rgba(59,130,246,.18), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.75), rgba(255,255,255,.12));
    }
    .scene.altB{
      background:
        radial-gradient(circle at 18% 26%, rgba(251,191,36,.22), transparent 55%),
        radial-gradient(circle at 82% 70%, rgba(236,72,153,.18), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.75), rgba(255,255,255,.12));
    }
    .scene.altC{
      background:
        radial-gradient(circle at 18% 26%, rgba(45,212,191,.22), transparent 55%),
        radial-gradient(circle at 82% 70%, rgba(34,197,94,.18), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.75), rgba(255,255,255,.12));
    }
    .scene.altD{
      background:
        radial-gradient(circle at 18% 26%, rgba(99,102,241,.22), transparent 55%),
        radial-gradient(circle at 82% 70%, rgba(14,165,233,.18), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.75), rgba(255,255,255,.12));
    }

    .mainEmoji{
      position:absolute;
      left:50%;
      top:50%;
      transform: translate(-50%, -50%);
      font-size: 104px;
      font-family: var(--emoji-font);
      filter: drop-shadow(0 18px 18px rgba(0,0,0,0.16));
      user-select:none;
      animation: floaty 2.35s infinite ease-in-out;
    }
    .miniEmoji{
      position:absolute;
      font-family: var(--emoji-font);
      font-size: 44px;
      filter: drop-shadow(0 12px 14px rgba(0,0,0,0.12));
      user-select:none;
      opacity:.98;
      animation: wobble 1.25s infinite ease-in-out;
    }
    .m1{ left:16px; top:16px; transform: rotate(-10deg); animation-delay:.05s; }
    .m2{ right:18px; top:14px; transform: rotate(10deg);  animation-delay:.18s; }
    .m3{ right:22px; bottom:16px; transform: rotate(-8deg); animation-delay:.28s; }

    .toolsBig .scene{ height:210px; }
    .toolsBig .mainEmoji{ font-size:132px; }
    .toolsBig .miniEmoji{ font-size:56px; }
    @media (max-width:650px){
      .toolsBig .scene{ height:200px; }
      .toolsBig .mainEmoji{ font-size:124px; }
      .toolsBig .miniEmoji{ font-size:52px; }
    }

    @keyframes pop{
      0%{ transform: translate(-50%,-50%) scale(1); }
      45%{ transform: translate(-50%,-50%) scale(1.18); }
      100%{ transform: translate(-50%,-50%) scale(1); }
    }
    @keyframes shake{
      0%,100%{ transform: translate(-50%,-50%) rotate(0deg); }
      20%{ transform: translate(-50%,-50%) rotate(-4deg); }
      40%{ transform: translate(-50%,-50%) rotate(4deg); }
      60%{ transform: translate(-50%,-50%) rotate(-3deg); }
      80%{ transform: translate(-50%,-50%) rotate(3deg); }
    }
    .scene.pop .mainEmoji{ animation: pop .55s ease-in-out 1; }
    .scene.shake .mainEmoji{ animation: shake .55s ease-in-out 1; }

    @keyframes floaty{
      0%,100%{ transform: translate(-50%,-50%) translateY(0px); }
      50%{ transform: translate(-50%,-50%) translateY(-14px); }
    }
    @keyframes wobble{
      0%{ transform: rotate(-6deg) translateY(0px); }
      50%{ transform: rotate(6deg) translateY(-3px); }
      100%{ transform: rotate(-6deg) translateY(0px); }
    }

    .mini-panel{
      background:#F8FAFC;
      border:2px dashed #CBD5E1;
      border-radius:18px;
      padding:14px;
      margin-top:12px;
      text-align:center;
      color:#334155;
      font-weight:900;
    }

    .timer{
      font-size:34px;
      font-weight:900;
      margin-top:10px;
      color:#0F172A;
      min-height:44px;
    }

    .bar{
      height:14px;
      width:100%;
      background: rgba(15,23,42,.10);
      border-radius:999px;
      overflow:hidden;
      border:1px solid rgba(148,163,184,.6);
      margin-top:10px;
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(56,189,248,.85), rgba(99,102,241,.75));
      transition: width .18s ease;
    }

    .choiceGrid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap:10px;
      margin-top:12px;
    }
    @media (max-width:650px){
      .choiceGrid{ grid-template-columns:1fr; }
    }
    .choiceBtn{
      border:2px solid rgba(203,213,225,.9);
      background: rgba(251,191,36,.12);
      border-radius:18px;
      padding:12px 12px;
      cursor:pointer;
      font-family:inherit;
      font-weight:900;
      color:#3a2b10;
      box-shadow: 0 10px 18px rgba(0,0,0,0.08);
      transition: transform .12s ease, filter .12s ease;
      text-align:left;
      user-select:none;
    }
    .choiceBtn:hover{ transform: translateY(-2px); filter:saturate(1.06); }
    .choiceBtn:active{ transform: translateY(0px) scale(.99); }

    .checklist{
      margin-top:12px;
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
      text-align:left;
    }
    .checkItem{
      display:flex;
      align-items:flex-start;
      gap:10px;
      padding:12px 12px;
      border-radius:18px;
      border:2px solid rgba(203,213,225,.9);
      background: rgba(45,212,191,.10);
    }
    .checkItem input{ margin-top:3px; transform: scale(1.15); }
    .checkItem label{
      font-weight:900;
      color:#134e4a;
      line-height:1.28;
      cursor:pointer;
    }

    .resultBox{
      margin-top:12px;
      padding:14px 14px;
      border-radius:18px;
      border:2px solid rgba(203,213,225,.9);
      background: rgba(99,102,241,.08);
      color:#1E1B4B;
      font-weight:900;
      line-height:1.35;
      display:none;
      text-align:left;
    }
    .resultBox small{
      display:block;
      margin-top:10px;
      color: rgba(30,27,75,.75);
      font-weight:900;
    }

    .inputRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
    }
    .inputRow input, .inputRow textarea{
      flex:1;
      min-width:220px;
      font-family:inherit;
      padding:12px 12px;
      border-radius:18px;
      border:2px solid rgba(203,213,225,.9);
      outline:none;
      background: rgba(255,255,255,.92);
      font-size:15px;
      font-weight:700;
      color:#0F172A;
    }
    .inputRow textarea{ min-height:48px; resize:vertical; }

    .foot{
      text-align:center;
      margin-top:26px;
    }
    .menuLink{
      color:#94A3B8;
      text-decoration:none;
      font-weight:900;
    }

    /* âœ… Make the Tools card clickable */
    .clickable-card{ cursor:pointer; }

    /* âœ… Decorative emoji scene should NOT steal clicks */
    .scene, .scene * { pointer-events:none; }

    /* âœ… Buttons/links should still receive clicks */
    button, .btn, a { pointer-events:auto; }
  </style>
</head>

<body>
  <div id="app"></div>

  <script>
    const app = document.getElementById('app');

    // ---------- Timer cleanup ----------
    const _intervals = [];
    const _timeouts  = [];
    function addInterval(id){ _intervals.push(id); return id; }
    function addTimeout(id){ _timeouts.push(id); return id; }
    function clearAllTimers(){
      while(_intervals.length){ try{ clearInterval(_intervals.pop()); }catch(e){} }
      while(_timeouts.length){ try{ clearTimeout(_timeouts.pop()); }catch(e){} }
    }

    // ---------- Scene helpers ----------
    function animateScene(sceneId, kind){
      const el = document.getElementById(sceneId);
      if(!el) return;
      el.classList.remove('pop','shake');
      void el.offsetWidth;
      el.classList.add(kind);
      addTimeout(setTimeout(()=> el.classList.remove(kind), 650));
    }

    function sceneHTML(id, main, m1, m2, m3, variant){
      const v = variant ? ` ${variant}` : '';
      return `
        <div class="scene${v}" id="${id}" aria-hidden="true">
          <div class="mainEmoji">${main}</div>
          <div class="miniEmoji m1">${m1}</div>
          <div class="miniEmoji m2">${m2}</div>
          <div class="miniEmoji m3">${m3}</div>
        </div>
      `;
    }

    // ---------- State ----------
    let calmSecs = 60;
    let calmRunning = false;

    function listeningCount(){
      const a = (document.getElementById('l1')||{}).checked ? 1:0;
      const b = (document.getElementById('l2')||{}).checked ? 1:0;
      const c = (document.getElementById('l3')||{}).checked ? 1:0;
      return a+b+c;
    }

    // ---------- Views ----------
    function showHome(){
      clearAllTimers();

      app.innerHTML = `
        <h1 class="title">Understanding Arrogance</h1>
        <p class="subtitle">Arrogance is when the â€œIâ€™m the best!â€ feeling gets too big and pushes kindness out. Letâ€™s shrink it back to friendly size.</p>

        <div class="grid-2">
          <div class="white-card" style="border-bottom-color:#38BDF8;">
            ${sceneHTML('sc-home', 'ğŸ˜', 'ğŸ‘‘', 'âœ¨', 'ğŸ™ƒ', 'altA')}
            <div class="card-title" style="color:#0EA5E9;">Whatâ€™s happening?</div>
            <p class="card-desc">It can feel like you need the spotlight all the time, and other peopleâ€™s ideas feel â€œsmall.â€</p>

            <div class="pillRow" aria-label="Body signals and triggers">
              <span class="pill"><small>Body:</small> loud voice</span>
              <span class="pill"><small>Body:</small> chin up</span>
              <span class="pill"><small>Body:</small> tight chest</span>
              <span class="pill"><small>Triggers:</small> getting praised</span>
              <span class="pill"><small>Triggers:</small> winning</span>
              <span class="pill"><small>Triggers:</small> wanting attention</span>
            </div>

            <button class="btn btn-sky" onclick="showReactions()">See Behaviors</button>
          </div>

          <div class="white-card clickable-card" style="border-bottom-color:#2563EB;" onclick="showSolutions()">
            ${sceneHTML('sc-tools-home', 'ğŸ§°', 'ğŸ§ ', 'ğŸ‘‚', 'ğŸ¤', 'altD')}
            <div class="card-title" style="color:#2563EB;">Tools</div>
            <p class="card-desc">
              These tools help your body calm down, share the spotlight, listen better,
              and use strong words that build friendships. You can still feel proudâ€”without pushing others down.
            </p>
            <button class="btn btn-blue" onclick="showSolutions(); event.stopPropagation();">Show Comfort Tools</button>
          </div>
        </div>

        <div class="foot">
          <a class="menuLink" href="index.html">â† Back to Menu</a>
        </div>
      `;

      window.scrollTo({top:0, behavior:'instant'});
    }

    function showReactions(){
      clearAllTimers();

      app.innerHTML = `
        <button class="btn-back" onclick="showHome()">â† Back</button>
        <h1 class="title" style="color:#0EA5E9;">How Do I Act When Iâ€™m Arrogant?</h1>
        <p class="subtitle" style="color:#0EA5E9; font-weight:900;">These are clues your â€œspotlight feelingâ€ is too big.</p>

        <div class="grid-2">
          <div class="white-card" style="border-bottom-color:#93C5FD;">
            ${sceneHTML('sc-r1','ğŸ¤','ğŸ˜','âœ¨','ğŸ‘€','altA')}
            <div class="card-title">I Take Over</div>
            <p class="card-desc">I talk the most, interrupt, or try to be the boss.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#93C5FD;">
            ${sceneHTML('sc-r2','ğŸ§±','ğŸ™…','ğŸ˜¤','ğŸ“£','altD')}
            <div class="card-title">I Donâ€™t Listen</div>
            <p class="card-desc">I ignore ideas because I think mine is always right.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#93C5FD;">
            ${sceneHTML('sc-r3','ğŸ‘‘','ğŸ˜','ğŸ†','ğŸ™ƒ','altB')}
            <div class="card-title">I Brag</div>
            <p class="card-desc">I show off so people notice me.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#93C5FD;">
            ${sceneHTML('sc-r4','ğŸ«¸','ğŸ˜’','ğŸš«','ğŸ§','altC')}
            <div class="card-title">I Put Others Down</div>
            <p class="card-desc">I tease, roll my eyes, or act like someone is â€œsmall.â€</p>
          </div>
        </div>

        <div class="white-card" style="margin-top:26px; border-bottom-color:#2563EB;">
          <p style="font-weight:900; font-size:20px; color:#1E40AF; margin:0;">What happens if this keeps running the show?</p>
          <button class="btn btn-blue" style="width:auto; margin-top:14px;" onclick="showConsequences()">See Consequences â”</button>
        </div>
      `;

      window.scrollTo({top:0, behavior:'instant'});
    }

    function showConsequences(){
      clearAllTimers();

      app.innerHTML = `
        <button class="btn-back" onclick="showReactions()">â† Back</button>
        <h1 class="title" style="color:#2563EB;">When Arrogance Takes Overâ€¦</h1>
        <p class="subtitle">It can block friendship, learning, and trust.</p>

        <div class="grid-2">
          <div class="white-card" style="border-bottom-color:#60A5FA;">
            ${sceneHTML('sc-c1','ğŸ’”','ğŸ‘«','ğŸ§Š','ğŸ“','altD')}
            <div class="card-title">Friends Pull Away</div>
            <p class="card-desc">People donâ€™t feel safe or respected around me.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#60A5FA;">
            ${sceneHTML('sc-c2','ğŸ§ ','ğŸšª','ğŸ“š','ğŸ˜µâ€ğŸ’«','altA')}
            <div class="card-title">I Learn Less</div>
            <p class="card-desc">If I think I already know everything, I miss new ideas.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#60A5FA;">
            ${sceneHTML('sc-c3','âš¡','ğŸ˜¡','ğŸ”¥','ğŸ’¥','altB')}
            <div class="card-title">More Fights</div>
            <p class="card-desc">Big pride can turn small problems into big battles.</p>
          </div>

          <div class="white-card" style="border-bottom-color:#60A5FA;">
            ${sceneHTML('sc-c4','ğŸ˜Ÿ','ğŸ™ˆ','ğŸŒ€','ğŸŒ§ï¸','altC')}
            <div class="card-title">Lonely Inside</div>
            <p class="card-desc">Even if I look â€œbig,â€ my heart can feel empty or worried.</p>
          </div>
        </div>

        <div class="white-card" style="margin-top:26px; border-bottom-color:#16A34A;">
          <p style="font-weight:900; font-size:20px; color:#166534; margin:0;">Good news: tools can help you feel proud AND kind.</p>
          <button class="btn btn-green" style="width:auto; margin-top:14px;" onclick="showSolutions()">Go to Comfort Tools â”</button>
        </div>
      `;

      window.scrollTo({top:0, behavior:'instant'});
    }

    function showSolutions(){
      clearAllTimers();

      app.innerHTML = `
        <button class="btn-back" onclick="showHome()">â† Back to Start</button>
        <h1 class="title" style="color:#2563EB;">Comfort Tools</h1>
        <p class="subtitle">Each tool is simple, kid-friendly, and helps pride stay kind.</p>

        <div class="toolsBig" style="display:flex; flex-direction:column; gap:26px; margin-top:18px;">

          <div class="white-card" style="border-bottom-color:#2563EB;">
            ${sceneHTML('sc-timer','ğŸ§Š','ğŸ”¥','â±ï¸','ğŸ’¨','altD')}
            <div class="card-title" style="color:#2563EB;">Calm-Down Minute (60 seconds)</div>
            <p class="card-desc">One quiet minute helps your body cool down so your thinking brain can choose kind actions.</p>

            <div class="timer" id="calmTimer">01:00</div>
            <div class="bar"><div id="calmBar"></div></div>

            <button class="btn btn-blue" onclick="startCalmMinute()">Start</button>
            <button class="btn btn-sky" onclick="pauseCalmMinute()">Pause</button>
            <button class="btn btn-indigo" onclick="resetCalmMinute(false)">Reset</button>
          </div>

          <div class="white-card" style="border-bottom-color:#0EA5E9;">
            ${sceneHTML('sc-spin','ğŸ ','ğŸ”„','ğŸ‘«','âœ¨','altA')}
            <div class="card-title" style="color:#0EA5E9;">Spotlight Share Spinner</div>
            <p class="card-desc">Sharing turns helps friendships grow. This gives you one â€œspotlight shareâ€ idea.</p>

            <div class="mini-panel" id="spinPanel">Press â€œSpinâ€ to get a sharing move.</div>
            <button class="btn btn-sky" onclick="spinShare()">Spin</button>
          </div>

          <div class="white-card" style="border-bottom-color:#0D9488;">
            ${sceneHTML('sc-listen','ğŸ‘‚','ğŸ‘€','ğŸ¤','ğŸ’¬','altC')}
            <div class="card-title" style="color:#0D9488;">Listening Laser</div>
            <p class="card-desc">Listening is a superpower. Check these while someone else is talking.</p>

            <div class="checklist">
              <div class="checkItem">
                <input id="l1" type="checkbox" onchange="updateListening()" />
                <label for="l1">My mouth is closed while they talk.</label>
              </div>
              <div class="checkItem">
                <input id="l2" type="checkbox" onchange="updateListening()" />
                <label for="l2">My eyes look at them (not my screen).</label>
              </div>
              <div class="checkItem">
                <input id="l3" type="checkbox" onchange="updateListening()" />
                <label for="l3">I say: â€œTell me more.â€</label>
              </div>
            </div>

            <div class="mini-panel" id="listenScore">Listening Score: 0 / 3</div>
          </div>

          <div class="white-card" style="border-bottom-color:#D97706;">
            ${sceneHTML('sc-bridge','ğŸ§©','ğŸ“','ğŸ¤','ğŸ’¬','altB')}
            <div class="card-title" style="color:#D97706;">Bridge Builder Script</div>
            <p class="card-desc">Strong words donâ€™t have to be mean. Build a bridge with a calm sentence.</p>

            <div class="inputRow">
              <input id="bbWho" type="text" placeholder="Who is it with? (example: â€œKaiâ€)" />
              <textarea id="bbWhat" placeholder="What happened? (example: â€œI didnâ€™t get a turn.â€)"></textarea>
            </div>

            <button class="btn btn-amber" onclick="makeBridgeScript()">Build My Script</button>
            <button class="btn btn-teal" onclick="clearBridgeScript()">Clear</button>

            <div class="resultBox" id="bridgeOut"></div>
          </div>

          <div class="white-card" style="border-bottom-color:#E11D48;">
            ${sceneHTML('sc-humble','ğŸŒ±','ğŸ«¶','â­','ğŸ™‚','altD')}
            <div class="card-title" style="color:#E11D48;">Humility Seed</div>
            <p class="card-desc">Humility means â€œI matter, and you matter too.â€ Pick a sentence to practice.</p>

            <div class="choiceGrid">
              <button class="choiceBtn" onclick="pickHumble(0)">â€œThatâ€™s a good idea. Letâ€™s try it.â€</button>
              <button class="choiceBtn" onclick="pickHumble(1)">â€œYou go first. Iâ€™ll take my turn next.â€</button>
              <button class="choiceBtn" onclick="pickHumble(2)">â€œI can be proud and still be kind.â€</button>
            </div>

            <div class="resultBox" id="humbleOut"></div>
          </div>

          <div class="white-card" style="border-bottom-color:#16A34A;">
            ${sceneHTML('sc-hifive','ğŸ¤œğŸ¤›','ğŸ’“','ğŸŒ¬ï¸','ğŸ','altC')}
            <div class="card-title" style="color:#16A34A;">Kindness High-Five Practice</div>
            <p class="card-desc">Do a quick body reset: exhale, soften shoulders, then â€œhigh-five kindness.â€</p>

            <div class="mini-panel" id="hiPanel">Count: <span id="hiCount">0</span> / 8</div>
            <button class="btn btn-green" onclick="doHighFive()">High-Five Kindness</button>
            <button class="btn btn-sky" onclick="resetHighFive()">Reset</button>
          </div>

        </div>

        <div class="foot">
          <a class="menuLink" href="index.html">â† Back to Menu</a>
        </div>
      `;

      // reset tool states for fresh view
      resetCalmMinute(true);
      resetHighFive(true);
      window.scrollTo({top:0, behavior:'instant'});
    }

    // ---------- Tool logic ----------
    function renderCalm(){
      const t = document.getElementById('calmTimer');
      const b = document.getElementById('calmBar');
      if(t){
        const mm = String(Math.floor(calmSecs/60)).padStart(2,'0');
        const ss = String(calmSecs%60).padStart(2,'0');
        t.textContent = `${mm}:${ss}`;
      }
      if(b){
        const pct = ((60 - calmSecs)/60)*100;
        b.style.width = `${Math.max(0, Math.min(100, pct))}%`;
      }
    }

    function startCalmMinute(){
      animateScene('sc-timer','pop');
      if(calmRunning) return;
      calmRunning = true;

      addInterval(setInterval(()=>{
        if(!calmRunning) return;
        calmSecs = Math.max(0, calmSecs - 1);
        renderCalm();
        if(calmSecs === 0){
          calmRunning = false;
          animateScene('sc-timer','shake');
          addTimeout(setTimeout(()=>{
            calmSecs = 60;
            renderCalm();
          }, 900));
        }
      }, 1000));
    }

    function pauseCalmMinute(){
      animateScene('sc-timer','shake');
      calmRunning = false;
    }

    function resetCalmMinute(silent){
      calmRunning = false;
      calmSecs = 60;
      renderCalm();
      if(!silent) animateScene('sc-timer','pop');
    }

    const shareMoves = [
      "Ask a friend: â€œWhat do you think?â€",
      "Give a turn: â€œYou go first.â€",
      "Say one compliment: â€œNice try!â€",
      "Invite someone in: â€œWant to play with us?â€",
      "Repeat their idea: â€œSo you mean ____.â€",
      "Share it: â€œLetâ€™s do it together.â€"
    ];

    function spinShare(){
      animateScene('sc-spin','pop');
      const panel = document.getElementById('spinPanel');
      if(!panel) return;
      panel.textContent = shareMoves[Math.floor(Math.random()*shareMoves.length)];
    }

    function updateListening(){
      const n = listeningCount();
      const score = document.getElementById('listenScore');
      if(score) score.textContent = `Listening Score: ${n} / 3`;
      if(n > 0) animateScene('sc-listen','pop');
      if(n === 3) animateScene('sc-listen','shake');
    }

    function makeBridgeScript(){
      animateScene('sc-bridge','pop');
      const who = ((document.getElementById('bbWho')||{}).value || '').trim();
      const what = ((document.getElementById('bbWhat')||{}).value || '').trim();
      const out = document.getElementById('bridgeOut');
      if(!out) return;

      const name = who || '____';
      const eventLine = what ? `When ${what},` : 'When ____,';

      const script =
        `â€œHey ${name}. ${eventLine} I felt upset. ` +
        `Can we try a fair plan? Iâ€™m ready to listen too.â€`;

      out.style.display = 'block';
      out.innerHTML = `<strong>Practice script:</strong><br>${script}
        <small>Why it helps: Calm words protect friendship and make problem-solving easier.</small>`;
    }

    function clearBridgeScript(){
      animateScene('sc-bridge','shake');
      const who = document.getElementById('bbWho');
      const what = document.getElementById('bbWhat');
      const out = document.getElementById('bridgeOut');
      if(who) who.value = '';
      if(what) what.value = '';
      if(out){ out.style.display='none'; out.textContent=''; }
    }

    const humbleLines = [
      "Try this: â€œThatâ€™s a good idea. Letâ€™s try it.â€",
      "Try this: â€œYou go first. Iâ€™ll take my turn next.â€",
      "Try this: â€œI can be proud and still be kind.â€"
    ];

    function pickHumble(i){
      animateScene('sc-humble','pop');
      const out = document.getElementById('humbleOut');
      if(!out) return;
      const msg = humbleLines[i] || humbleLines[0];
      out.style.display = 'block';
      out.innerHTML = `<strong>${msg}</strong>
        <small>Why it helps: Humility keeps your heart strong and your friendships safe.</small>`;
    }

    let hiCount = 0;
    function doHighFive(){
      animateScene('sc-hifive','shake');
      hiCount = Math.min(8, hiCount + 1);

      const panel = document.getElementById('hiPanel');
      if(panel){
        if(hiCount >= 8){
          panel.innerHTML = `Count: <span id="hiCount">8</span> / 8<br><span style="color:#166534;">Nice! Now say: â€œIâ€™m choosing kind power.â€</span>`;
        }else{
          panel.innerHTML = `Count: <span id="hiCount">${hiCount}</span> / 8`;
        }
      }
    }

    function resetHighFive(silent){
      hiCount = 0;
      const panel = document.getElementById('hiPanel');
      if(panel) panel.innerHTML = `Count: <span id="hiCount">0</span> / 8`;
      if(!silent) animateScene('sc-hifive','pop');
    }

    // ---------- Start ----------
    showHome();
  </script>
</body>
</html>
